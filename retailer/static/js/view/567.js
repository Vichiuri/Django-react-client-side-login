"use strict";(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[567],{6567:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var n=r(7294),a=r(7703),o=r(831),i=r(8915),c=r(2439),s=r(9577),l=r(5314),u=r(4845),d=r(2941);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t,r=e.categories,a=e.distributor,o=e.fetchViewRetailerOffers,i=e.fetchRetailerSubCategories,c=e.sub_categories,s=f((0,n.useState)(null),2),m=s[0],h=s[1],y=f((0,n.useState)(null),2),v=y[0],g=y[1],b=f((0,n.useState)([]),2),_=b[0],E=b[1],x=f((0,n.useState)([]),2),w=x[0],S=x[1],k=f((0,n.useState)(0),2),C=k[0],R=k[1];return(0,n.useEffect)((function(){E(r.map((function(e){return{id:e.id,name:e.name,selected:!1}}))),c&&S(c.map((function(e){return v&&v.id==e.id?{id:e.id,name:e.name,selected:!0}:{id:e.id,name:e.name,selected:!1}})))}),[r,c]),n.createElement("div",{class:"block filter",id:"layered-filter-block",style:{marginTop:"50px"}},n.createElement("div",{class:"block-title filter-title","data-count":"0"},n.createElement("strong",{"data-role":"title"},"Shop By")),n.createElement("div",{class:"block-content filter-content"},n.createElement("strong",{role:"heading","aria-level":"2",class:"block-subtitle filter-subtitle"},"Shopping Options"),n.createElement("div",{class:"filter-options",id:"narrow-by-list"},n.createElement("div",{class:"filter-options-item"},n.createElement("div",{"data-role":"title",class:"filter-options-title"},"Category"),n.createElement("div",{className:"product_filter_items"},_.map((function(e,t){return n.createElement(l.Z,{item:e,key:t,handleChange:function(){return function(e){h(e),E(r.map((function(t){return e&&e.id==t.id?{id:t.id,name:t.name,selected:!0}:{id:t.id,name:t.name,selected:!1}}))),a&&(o(a.id,1,e.id,C),i(e.id))}(e)},index:t})})))),c&&c.length>0?n.createElement("div",{"data-role":"collapsible",class:"filter-options-item"},n.createElement("div",{"data-role":"title",class:"filter-options-title"},"Sub-Category"),n.createElement("div",{className:"product_filter_items"},w.map((function(e,t){return n.createElement(l.Z,{item:e,key:t,handleChange:function(){return function(e){g(e),S(c.map((function(t){return e&&e.id==t.id?{id:t.id,name:t.name,selected:!0}:{id:t.id,name:t.name,selected:!1}}))),a&&(o(a.id,1,e.id,C),i(e.id,1,!0))}(e)},index:"".concat(t,"_2")})})))):n.createElement("div",null),n.createElement("div",{"data-role":"collapsible",class:"filter-options-item"},n.createElement("div",{"data-role":"title",class:"filter-options-title"},"Price"),n.createElement("div",{className:"product_filter_items"},n.createElement(u.Z,(p(t={defaultValue:0,getAriaValueText:function(e){return"Ksh. ".concat(e)},"aria-labelledby":"discrete-slider-custom",step:10,valueLabelDisplay:"auto",min:0,max:1e5},"step",1e4),p(t,"marks",[{value:0,label:"Ksh. 0"},{value:1e5,label:"Ksh. 100000"}]),p(t,"onChange",(0,d.Z)((function(e,t){R(t),o(a.id,1,v?v.id:null==m?void 0:m.id,t)}),2e3)),t)))),n.createElement("div",{"data-role":"collapsible",class:"filter-options-item"},n.createElement("div",{"data-role":"title",class:"filter-options-title"},"Product Brand"),n.createElement("div",{"data-role":"content",class:"filter-options-content"},n.createElement("ol",{class:"items"},n.createElement("li",{class:"item"},n.createElement("a",{href:"shop2206.html?product_brand=2",rel:"nofollow"},"Iqvia",n.createElement("span",{class:"count"},"6",n.createElement("span",{class:"filter-count-label"},"item")))),n.createElement("li",{class:"item"},n.createElement("a",{href:"shopa540.html?product_brand=3",rel:"nofollow"},"Impact",n.createElement("span",{class:"count"},"5",n.createElement("span",{class:"filter-count-label"},"item")))),n.createElement("li",{class:"item"},n.createElement("a",{href:"shopf9fd.html?product_brand=4",rel:"nofollow"},"Creative",n.createElement("span",{class:"count"},"4",n.createElement("span",{class:"filter-count-label"},"item")))),n.createElement("li",{class:"item"},n.createElement("a",{href:"shop4fe2.html?product_brand=5",rel:"nofollow"},"CarRentals",n.createElement("span",{class:"count"},"1",n.createElement("span",{class:"filter-count-label"},"item")))),n.createElement("li",{class:"item"},n.createElement("a",{href:"shopf83d.html?product_brand=6",rel:"nofollow"},"Carvoodoo",n.createElement("span",{class:"count"},"2",n.createElement("span",{class:"filter-count-label"},"item")))),n.createElement("li",{class:"item"},n.createElement("a",{href:"shopd4f6.html?product_brand=7",rel:"nofollow"},"Carmentor",n.createElement("span",{class:"count"},"2",n.createElement("span",{class:"filter-count-label"},"item"))))))))))}var y=r(3727);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t,r,a,o=e.offer,i=e.addProductToCart,c=(r=(0,n.useState)("../static/images/logo.svg"),a=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(r,a)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],l=c[1];return(0,n.useEffect)((function(){l(null!=o&&o.pic?"..".concat(o.pic):"../static/images/logo.svg")}),[o]),n.createElement("div",{className:"product_grid_view"},n.createElement("div",{class:"item-load group-rows-fixed-supper-deal item-row card"},n.createElement("div",{class:"item product product-item"},n.createElement("div",{class:"product-item-info"},n.createElement(y.rU,{to:"/home/offer_details/".concat(o.id),class:"product photo product-item-photo",tabindex:"-1"},n.createElement("span",{class:" image0 image-switch flash_product_image "},n.createElement("img",{class:"product-image",src:s,alt:"Blue G9 Pro 2020 Battery Unlocked"}))),n.createElement("div",{class:"product details product-item-details"},n.createElement("strong",{class:"product name product-item-name"},n.createElement("div",{class:"product-item-link"},o.name)),n.createElement("div",{class:"product-sold"},n.createElement("div",{class:"count-sold-available"},n.createElement("div",{class:"count-sold"},n.createElement("span",null," ",o.detail_name," ")))),n.createElement("div",{class:"price-box price-final_price","data-role":"priceBox","data-product-id":"3","data-price-box":"product-id-3"},n.createElement("span",{class:"special-price"},n.createElement("span",{class:" price-container price-final_price tax weee "},n.createElement("span",{class:"price-label"},"Special Price"),n.createElement("span",{"data-price-amount":"90","data-price-type":"finalPrice",class:"price-wrapper"},n.createElement("span",{class:"price"},"Ksh. ",(null==o||null===(t=o.x_item)||void 0===t?void 0:t.price)*(null==o?void 0:o.x_amt)))))),n.createElement("div",{class:"product-item-inner"},n.createElement("div",{class:"product actions product-item-actions"},n.createElement("div",{class:"actions-primary"},n.createElement("button",{onClick:function(){var e;return i({product_id:null==o||null===(e=o.x_item)||void 0===e?void 0:e.id,qty:null==o?void 0:o.x_amt,new_qty:""})},class:"action tocart primary"},n.createElement("span",null,"Add to Cart"))))))))))}function b(e){var t=e.offers,r=e.addProductToCart;return n.createElement("div",{class:"grid",style:{background:"white",padding:"20px"}},t.map((function(e,t){return n.createElement(g,{key:t,offer:e,addProductToCart:r})})))}function _(e){var t=e.offers,r=e.categories,a=e.distributor,o=e.fetchViewRetailerOffers,i=e.fetchRetailerSubCategories,c=e.sub_categories,s=e.addProductToCart;return n.createElement("div",{class:"columns retailer_shop_layout"},n.createElement("div",{class:"sidebar"},n.createElement(h,{categories:r,distributor:a,fetchViewRetailerOffers:o,fetchRetailerSubCategories:i,sub_categories:c})),n.createElement("div",{class:"column main"},n.createElement("div",{class:"products wrapper grid products-grid view_shop_grid"},n.createElement(b,{offers:t,addProductToCart:s}))))}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}r(1632);var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(l,e);var t,r,a,o,i=(a=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(a);if(o){var r=C(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1},t.closeSnackBar=t.closeSnackBar.bind(k(t)),t.setResponse=t.setResponse.bind(k(t)),t}return t=l,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.error,n=t.message;r!==e.error?this.setResponse(r):n!==e.message&&(201==n.status&&this.setState({currentPage:1}),this.setResponse(n))}},{key:"componentDidMount",value:function(){var e=this.props.auth.account;if(null!=e.default_distributor){var t=e.default_distributor.id;this.props.fetchViewRetailerOffers(t,1),this.props.fetchRetailerCategories(t,1)}}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],r=e.responseMessage[t];r instanceof Array?this.setState({responseMessage:r[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:r,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.offersReducer,r=e.productsReducer,a=e.auth,o=e.fetchViewRetailerOffers,i=e.fetchRetailerSubCategories,l=e.addProductToCart,u=t.offers,d=t.isLoading,p=a.account,f=this.state,m=f.openSnackBar,h={isError:f.isError,responseMessage:f.responseMessage,openSnackBar:m,snackPosition:f.snackPosition};return n.createElement("main",{id:"maincontent",class:"page-main"},n.createElement(c.Z,{open:d||r.isLoading}),n.createElement(_,{offers:u,categories:r.categories,distributor:p.default_distributor,fetchViewRetailerOffers:o,fetchRetailerSubCategories:i,sub_categories:r.sub_categories,addProductToCart:l}),n.createElement(s.Z,{values:h,closeSnackBar:this.closeSnackBar}))}}])&&x(t.prototype,r),l}(n.Component);const O=(0,a.$j)((function(e){return{auth:e.authReducer,productsReducer:e.retailerProductsReducer,offersReducer:e.retailerOffersReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchViewRetailerOffers:o.ny,fetchRetailerCategories:o.fm,fetchRetailerSubCategories:o.Al,addProductToCart:i.dA})(R)},8915:(e,t,r)=>{r.d(t,{$S:()=>u,BB:()=>s,H6:()=>m,Js:()=>p,NY:()=>h,UA:()=>f,_H:()=>d,cD:()=>v,dA:()=>l,xU:()=>y});var n=r(9669),a=r.n(n),o=r(8343),i=r(4464),c=r(60),s=function(){return function(e,t){e({type:c.Ho});var r=(0,i.Z)(t);a().get("/api/retailer_cart_view/",r).then((function(t){e({type:c.b,payload:t.data})})).catch((function(t){var r={responseMessage:t.response.data,status:t.response.status};e((0,o.x)(r)),e({type:c.He})}))}},l=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().post("/api/retailer_cart_view/",e,n).then((function(e){t((0,o.i)(e.data)),t({type:c.TY,payload:e.data})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}},u=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().delete("/api/retailer_cart_view/?order_id=".concat(e),n).then((function(r){t((0,o.i)(r.data)),t({type:c.JC,payload:e})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}},d=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().put("/api/retailer_cart_view/",{cart_id:e},n).then((function(e){t((0,o.i)(e.data)),t({type:c.iB})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}},p=function(e,t,r){return function(n,s){n({type:c.Ho});var l=(0,i.Z)(s),u="api/retailer_check_out/?page=".concat(e);t&&(u+="&rows=".concat(t)),r&&(u+="&query=".concat(r)),a().get(u,l).then((function(t){n({type:c.f7,payload:{orders:t.data.orders,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};n((0,o.x)(t)),n({type:c.He})}))}},f=function(e,t,r,n){return function(s,l){s({type:c.Ho});var u=(0,i.Z)(l),d="api/retailer_view_orders/?page=".concat(t,"&ret_id=").concat(e);n&&(d+="&rows=".concat(n)),r&&(d+="&query=".concat(r)),a().get(d,u).then((function(e){console.log(e.data),s({type:c.f9,payload:e.data})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};s((0,o.x)(t)),s({type:c.He})}))}},m=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().post("api/retailer_check_out/",{note:e},n).then((function(e){t((0,o.i)(e.data)),t({type:c.IL,payload:e.data})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}},h=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().patch("api/retailer_check_out/",{order_id:e},n).then((function(e){t((0,o.i)(e.data)),t({type:c.mN,payload:e.data})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}},y=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().put("api/retailer_check_out/",{order_id:e},n).then((function(e){t((0,o.i)(e.data)),t({type:c.b,payload:e.data})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}},v=function(e){return function(t,r){t({type:c.Ho});var n=(0,i.Z)(r);a().delete("api/retailer_check_out/?order_id=".concat(e),n).then((function(e){t((0,o.i)(e.data)),t({type:c.C,payload:e.data})})).catch((function(e){var r={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(r)),t({type:c.He})}))}}},5314:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(7294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t,r,o=e.item,i=e.handleChange,c=e.index,s=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1];return(0,n.useEffect)((function(){u(o.selected),document.getElementById("check_item_".concat(c)).checked=o.selected}),[o]),n.createElement("div",{className:"check_item"},n.createElement("label",{class:"container"},o.name,n.createElement("input",{id:"check_item_".concat(c),type:"checkbox",value:l,onChange:function(){return i()}}),n.createElement("span",{class:"checkmark"})))}r(3537)},7661:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(3645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,'.view_shop_grid .grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    grid-gap: 5px;\n    align-items: stretch;\n}\n\n.view_shop_grid .grid>article {\n    border: 1px solid #ccc;\n    box-shadow: 2px 2px 6px 0px rgba(0, 0, 0, 0.3);\n}\n\n.view_shop_grid .grid>article img {\n    max-width: 100%;\n}\n\n.view_shop_grid .grid .text {\n    padding: 20px;\n    text-align: center;\n}\n\n.view_shop_grid .grid .text h3 {\n    font-size: 1.4rem;\n    font-family: "Fredoka One", cursive;\n}\n\n.view_shop_grid .grid .text p {\n    font-size: 0.9rem;\n}\n\n.view_shop_grid .grid .text p a {\n    text-decoration: none;\n    font-weight: bold;\n    color: #555;\n    font-family: "Courgette", cursive;\n}\n\n.retailer_shop_layout {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n}\n\n.retailer_shop_layout .sidebar {\n    width: 380px;\n}\n\n.product_grid_view .card {\n    width: 100%;\n    height: auto;\n    flex: 0 0 auto;\n    margin: 0 0.75rem;\n    border: none;\n    outline: none;\n    border-radius: 0.25rem;\n    color: #252a32;\n    background: #ffffff;\n    /* box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); */\n    justify-content: center;\n    padding: 20px;\n    align-items: center;\n}\n\n.product_grid_view .card:hover {\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.product_grid_view .actions-secondary {\n    position: absolute;\n    top: 2rem;\n    right: 2rem;\n    z-index: 2;\n    flex-wrap: wrap;\n    display: -webkit-box;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n}\n\n.product_grid_view .tocart {\n    width: 250px;\n    padding: 11px 5%;\n}\n\n.product_filter_items {\n    width: 100%;\n    padding: 10px;\n}',""]);const o=a},1632:(e,t,r)=>{var n=r(3379),a=r.n(n),o=r(7661);a()(o.Z,{insert:"head",singleton:!1}),o.Z.locals}}]);