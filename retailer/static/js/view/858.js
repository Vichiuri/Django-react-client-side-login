"use strict";(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[858],{7858:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(7294),a=n(7703),o=n(8521),i=n(2439),l=n(9577);n(6770);var s=n(8005),c=n.n(s);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t=e.retailer,n=e.setResponse,a=e.updateRetailUser,o=e.logOutRetailer,i=u((0,r.useState)(""),2),l=i[0],s=i[1],p=u((0,r.useState)(""),2),d=p[0],f=p[1],m=u((0,r.useState)(""),2),g=m[0],h=m[1],b=u((0,r.useState)(""),2),y=b[0],v=b[1],w=u((0,r.useState)(""),2),x=w[0],_=w[1],E=u((0,r.useState)(),2),S=E[0],k=E[1],R=u((0,r.useState)(""),2),O=R[0],N=R[1],P=u((0,r.useState)("../static/images/add_image.png"),2),j=P[0],C=P[1],M=u((0,r.useState)(""),2),B=M[0],A=M[1],z=u((0,r.useState)(0),2),U=z[0],D=z[1];function Z(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);C(n),function(e){var t;(t=e,new Promise((function(e,n){new(c())(t,{quality:1,success:function(t){var n=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<10;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}(),r=new File([t],"".concat(n,".png"),{type:"image/png",lastModified:(new Date).getTime()});e(r)},error:function(e){n(e)}})}))).then((function(e){A(e)})).catch((function(e){return console.log(e)}))}(t)}}return(0,r.useEffect)((function(){var e;s(null==t?void 0:t.name),f(null==t?void 0:t.email),h(null==t?void 0:t.pin_no),v(null==t?void 0:t.phone),C(null!==(e=null==t?void 0:t.pic)&&void 0!==e?e:"../static/images/add_image.png")}),[t]),r.createElement("div",null,r.createElement("div",{className:"edit_retailer"},r.createElement("div",{className:"row justify-content-between border border-bottom p-2"},r.createElement("h1",{className:"profile_title"},"Edit Profile"),r.createElement("div",{onClick:function(){return o()},className:"profile_table_button",style:{backgroundColor:"#F04124"}},r.createElement("i",{className:"fas fa-power-off"})," ",r.createElement("div",null,"Log Out"))),r.createElement("center",null,r.createElement("div",{className:"profile_img",onClick:function(){return U.click()}},r.createElement("img",{src:j,alt:""}),r.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return Z(e)},ref:function(e){return D(e)}}))),r.createElement("div",{className:"grid"},r.createElement("div",{className:"form-group a"},r.createElement("label",{for:"name"},"Name"),r.createElement("input",{id:"name",type:"text",value:l,onChange:function(e){return s(e.target.value)},autoFocus:!0,required:!0})),r.createElement("div",{className:"form-group b"},r.createElement("label",{for:"kra"},"KRA PIN"),r.createElement("input",{id:"kra",type:"text",value:g,onChange:function(){return h()},disabled:!0})),r.createElement("div",{className:"form-group email-group"},r.createElement("label",{for:"email"},"Phone"),r.createElement("input",{id:"phone",type:"text",value:y,onChange:function(e){return v(e.target.value)},required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",{for:"address"},"Email"),r.createElement("input",{id:"address",type:"email",value:d,onChange:function(e){return f(e.target.value)},disabled:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",{for:"old_password"},"Old Password"),r.createElement("input",{id:"old_password",type:"password",placeholder:"••••••",value:x,onChange:function(e){return _(e.target.value)}})),r.createElement("div",{className:"form-group"},r.createElement("label",{for:"new_password"},"New Password"),r.createElement("input",{id:"new_password",type:"password",placeholder:"••••••",value:S,onChange:function(e){return k(e.target.value)}})),r.createElement("div",{className:"form-group"},r.createElement("label",{for:"confirm_password"},"Confirm Password"),r.createElement("input",{id:"confirm_password",type:"password",placeholder:"••••••",value:O,onChange:function(e){return N(e.target.value)}}))),r.createElement("div",{className:"button-container"},r.createElement("button",{className:"button",onClick:function(){return function(){if(l&&y){var e=new FormData;e.append("name",l),e.append("phone",y),B&&e.append("photo",B),S?x&&S==O?(e.append("new_password",S),e.append("confirm_password",O),e.append("old_password",x),a(e)):x?S!=O&&n({responseMessage:{message:"New Password and confirm do not match"},isError:!0}):n({responseMessage:{message:"Please enter old password"},isError:!0}):a(e)}else l?y||n({responseMessage:{message:"Please enter company email"},isError:!0}):n({responseMessage:{message:"Please enter company name"},isError:!0})}()}},"Save Profile"))))}var f=n(3379),m=n.n(f),g=n(2266);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}m()(g.Z,{insert:"head",singleton:!1}),g.Z.locals;var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,a,o,s=(a=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(a);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"}},t.closeSnackBar=t.closeSnackBar.bind(w(t)),t.setResponse=t.setResponse.bind(w(t)),t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,r=t.message;n!==e.error?this.setResponse(n):r!==e.message&&this.setResponse(r)}},{key:"componentDidMount",value:function(){}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],n=e.responseMessage[t];n instanceof Array?this.setState({responseMessage:n[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:n,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.auth,n=e.updateRetailUser,a=e.logOutRetailer,o=t.isLoading,s=t.account,c=this.state,u=c.openSnackBar,p={isError:c.isError,responseMessage:c.responseMessage,openSnackBar:u,snackPosition:c.snackPosition};return r.createElement("main",{id:"maincontent",class:"page-main",style:{margin:"10px auto"}},r.createElement(i.Z,{open:o}),r.createElement(d,{retailer:s.retailer,setResponse:this.setResponse,updateRetailUser:n,logOutRetailer:a}),r.createElement(l.Z,{values:p,closeSnackBar:this.closeSnackBar}))}}])&&b(t.prototype,n),c}(r.Component);const E=(0,a.$j)((function(e){return{auth:e.authReducer,error:e.errorsReducer,message:e.messagesReducer}}),{updateRetailUser:o.y1,logOutRetailer:o.zD})(_)},2266:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".edit_retailer {\n    background: #fff;\n    width: 100%;\n    padding: 1rem;\n}\n\n.edit_retailer .title {\n    font-size: 24px;\n    line-height: 28px;\n    font-weight: bold;\n    color: #374151;\n    padding-bottom: 11px;\n    border-bottom: 1px solid #d7dbdf;\n}\n\n.edit_retailer .form-group {\n    margin-top: 15px;\n    display: flex;\n    flex-direction: column;\n}\n\n.edit_retailer .textarea-group label,\n.edit_retailer .form-group label {\n    color: #374151;\n    font-size: 16px;\n    line-height: 19px;\n    margin-bottom: 5px;\n}\n\n.edit_retailer .form-group [type],\n.edit_retailer .textarea-group textarea {\n    border: 1px solid #d2d6db;\n    border-radius: 6px;\n    padding: 15px;\n}\n\n.edit_retailer .form-group [type]:hover,\n.edit_retailer .textarea-group textarea:hover {\n    border-color: #a8afb9;\n}\n\n.edit_retailer .form-group [type]:focus,\n.edit_retailer .textarea-group textarea:focus {\n    border-color: #5850eb;\n}\n\n.edit_retailer .textarea-group {\n    margin-top: 24px;\n}\n\n.edit_retailer .textarea-group textarea {\n    resize: none;\n    width: 100%;\n    margin-top: 10px;\n    height: calc(100% - 59px);\n}\n\n.edit_retailer .button {\n    font-weight: bold;\n    line-height: 19px;\n    background: #5850eb;\n    border: none;\n    padding: 15px 25px;\n    border-radius: 6px;\n    color: white;\n    width: 100%;\n    margin-top: 24px;\n}\n\n.edit_retailer .button:hover {\n    background: #6e67ee;\n}\n\n.edit_retailer .button:focus {\n    background: #4239e8;\n}\n\n.edit_retailer .profile_img {\n    width: 150px;\n    height: 150px;\n    cursor: pointer;\n}\n\n.edit_retailer .profile_img img {\n    width: inherit;\n    height: inherit;\n    object-fit: contain;\n}\n\n.edit_retailer .profile_img .image_input {\n    display: none;\n}\n\n.profile_table_button {\n    height: 40px;\n    min-width: 40px;\n    border-radius: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 5px;\n    color: white;\n    cursor: pointer;\n    padding-right: 10px;\n    padding-left: 10px;\n}\n\n.profile_table_button i {\n    margin-right: 10px;\n}\n\n.profile_title {\n    font-size: 24px;\n    line-height: 28px;\n    font-weight: bold;\n    color: #374151;\n    padding-bottom: 11px;\n    margin-left: 15px;\n    /* border-bottom: 1px solid #d7dbdf; */\n}\n\n@media screen and (min-width: 768px) {\n    .edit_retailer .container {\n        margin: 2rem;\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.1);\n        border-radius: 4px;\n        max-width: 32rem;\n        padding: 2rem;\n    }\n}\n\n@media screen and (min-width: 1024px) {\n    .edit_retailer .container {\n        max-width: 80%;\n        width: 100%;\n    }\n    .edit_retailer .grid {\n        display: grid;\n        grid-gap: 24px;\n        grid-template-columns: 1fr 1fr 1fr;\n        grid-auto-rows: 1fr;\n    }\n    .edit_retailer .email-group {\n        grid-column: 1;\n        grid-row: 2;\n    }\n    .edit_retailer .phone-group {\n        grid-column: 2;\n        grid-row: 2;\n    }\n    .edit_retailer .textarea-group {\n        grid-column: 3;\n        grid-row: span 2;\n        margin-right: 2rem;\n    }\n    .edit_retailer .button-container {\n        text-align: right;\n    }\n    .edit_retailer .button {\n        /* bon, bon, bon\n\t\tc'est pas tout mais j'ai faim moi ^^\n\t\t*/\n        width: auto;\n    }\n}",""]);const o=a}}]);