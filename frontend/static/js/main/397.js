(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[397],{99012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>we});var r=n(67294),a=n(13835),o=n(76523),c=n(73288),l=n(6849),i=n(72714),s=n(15643);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n,a=e.photos,o=e.inputImage,c=e.viewImage,l=e.deleteImage,i=(t=(0,r.useState)(0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=i[0],d=i[1];return r.createElement("div",{className:"row m-2"},a.map((function(e,t){return r.createElement("div",{className:"col-lg-3 col-md-3 col-sm-4 col-xs-6 col-xs-6 image_card image_view_card",key:t},e?r.createElement("div",{className:"product_add_image_card_img"},r.createElement("img",{src:e,alt:""}),r.createElement("button",{className:"delete_btn",onClick:function(){return l(t)}},"x")):r.createElement("div",null))})),a.length>4?r.createElement("div",null):r.createElement("div",{className:"image_card image_add",onClick:function(){return m.click()}},r.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];t&&(c(t),function(e){(0,s.Z)(e).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}(t))}(e)},ref:function(e){return d(e)}}),r.createElement("img",{src:"../static/images/add_image.png",alt:""})))}var d=n(38109),p=n(65792),f=n.n(p);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=e.fetchCustomColors,n=e.customColors,a=e.colors,o=e.setColors,c="light",l=document.getElementsByTagName("body")[0],i={control:function(e){return v(v({},e),{},{backgroundColor:l.classList.contains(c)?"#ffffff":"#212529"})},menu:function(e){return v(v({},e),{},{backgroundColor:l.classList.contains(c)?"#ffffff":"#212529"})},option:function(e,t){var n=t.data,r=t.isDisabled,a=t.isFocused,o=t.isSelected,c=f()(n.color);return v(v({},e),{},{backgroundColor:r?null:o?n.color:a?c.alpha(.1).css():null,color:r?"#ccc":o?f().contrast(c,"white")>2?"white":"black":n.color,cursor:r?"not-allowed":"default",":active":v(v({},e[":active"]),{},{backgroundColor:!r&&(o?n.color:c.alpha(.3).css())})})},multiValue:function(e,t){var n=t.data,r=f()(n.color);return v(v({},e),{},{backgroundColor:r.alpha(.1).css()})},multiValueLabel:function(e,t){var n=t.data;return v(v({},e),{},{color:n.color})},multiValueRemove:function(e,t){var n=t.data;return v(v({},e),{},{color:n.color,":hover":{backgroundColor:n.color,color:"white"}})}};return r.createElement(d.ZP,{closeMenuOnSelect:!1,isMulti:!0,loadOptions:t,defaultOptions:n,cacheOptions:!0,styles:i,value:a,onChange:o})}var y=n(9669),E=n.n(y),w=n(79860),S=n(8719),P=n(23157),N=n(40074),x=n(35166),k=n(30553),_=n(87913),C=n(93379),O=n.n(C),j=n(35094);function Z(e){var t=e.message;return r.createElement("span",{className:"tool_tip",tabindex:"1"},r.createElement("i",{"data-tip":null!=t?t:"",className:"fas fa-info-circle ml-2 text-primary"}),r.createElement(_.Z,{type:"success",effect:"float"}))}function M(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.changePage,n=e.setResponse,s=e.addProduct,u=A((0,r.useState)(""),2),d=u[0],p=u[1],f=A((0,r.useState)(""),2),g=f[0],v=f[1],b=A((0,r.useState)(null),2),y=b[0],_=b[1],C=A((0,r.useState)([]),2),O=C[0],j=C[1],D=A((0,r.useState)(0),2),I=D[0],R=D[1],z=A((0,r.useState)(1),2),T=z[0],U=z[1],B=A((0,r.useState)(""),2),V=B[0],q=B[1],J=A((0,r.useState)(""),2),F=J[0],L=J[1],H=A((0,r.useState)([]),2),K=H[0],$=H[1],Q=A((0,r.useState)([]),2),W=Q[0],Y=Q[1],G=A((0,r.useState)(""),2),X=G[0],ee=G[1],te=A((0,r.useState)(""),2),ne=te[0],re=te[1],ae=A((0,r.useState)(null),2),oe=ae[0],ce=ae[1],le=A((0,r.useState)(""),2),ie=le[0],se=le[1],ue=A((0,r.useState)(null),2),me=ue[0],de=ue[1],pe=A((0,r.useState)([]),2),fe=pe[0],ge=pe[1],ve=A((0,r.useState)([]),2),be=ve[0],he=ve[1],ye=A((0,r.useState)(""),2),Ee=ye[0],we=ye[1],Se=A((0,r.useState)([]),2),Pe=Se[0],Ne=Se[1],xe=A((0,r.useState)([]),2),ke=xe[0],_e=(xe[1],A((0,r.useState)(""),2)),Ce=_e[0],Oe=_e[1],je=A((0,r.useState)(""),2),Ze=je[0],Me=je[1],Ae=A((0,r.useState)("active"),2),De=Ae[0],Ie=Ae[1];function Re(e){var t=e?"../retailer/api/custom_colors/?query=".concat(e):"../retailer/api/custom_colors/",n={headers:{Accept:"application/json","Content-Type":"application/json"}};return new Promise((function(e,r){E().get(t,n).then((function(t){Ne(t.data.colors),e(t.data.colors)})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};ce(!0),se(t.responseMessage),r(e.responseMessage)}))}))}(0,r.useEffect)((function(){var e=a.Z.filter((function(e){return"KES"===e.cc}))[0];if(e){_(e);var t=a.Z.filter((function(t){return t.cc!=e.cc}));j([e].concat(M(t)))}else _(a.Z[0]),j(a.Z);Re()}),[]);var ze={anchorEl:me,popUpItems:O},Te={container:{border:"1px solid #ddd",padding:"5px",borderRadius:"5px"},items:{display:"inline-block",padding:"2px",border:"1px solid blue",fontFamily:"Helvetica, sans-serif",borderRadius:"5px",marginRight:"5px",cursor:"pointer",backgroundColor:"#1976d2",color:"white"},input:{outline:"none",border:"none",fontSize:"14px",fontFamily:"Helvetica, sans-serif"}};return r.createElement("div",{className:"row justify-content-center mt-2"},r.createElement("div",{className:"col-lg-12 col-md-11 col-sm-12 col-xs-12 p-2"},r.createElement("div",{className:"card"},r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between ml-2 mr-2"},r.createElement("center",null,r.createElement("h3",null,"Add Product")),r.createElement(c.Z,{prevPropsName:"Products",propsName:"Add Product",changePage:t}))),r.createElement("div",{className:"card-content"},r.createElement(o.Z,{isError:oe,responseMessage:ie}),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12 form-label-group"},r.createElement("label",{className:""},"Product Name*"," "),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please input product name",name:"name",value:g,onChange:function(e){return v(e.target.value)},required:!0,autoFocus:!0})),r.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Category",r.createElement(Z,{message:"Choose a category which best fits your  product"})),r.createElement(w.Z,{isMulti:!1,value:d,setValue:function(e){return p(e)},fetchData:S.JD,closeMenuOnSelect:!0,isClearable:!0}))),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-label-group"},r.createElement("label",null,"Product Color ",r.createElement("small",null,"(Type for search)")),r.createElement(h,{fetchCustomColors:Re,customColors:Pe,colors:K,setColors:function(e){$(e)}})),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-label-group"},r.createElement("label",null,"Product Sizes (Press enter to add)"," ",r.createElement(Z,{message:"Type the size, then press enter"})," "),r.createElement("div",null,r.createElement("label",{className:"row ml-1 mr-1"},r.createElement("ul",{style:Te.container,className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},W.map((function(e,t){return r.createElement("li",{key:t,style:Te.items,className:"mr-2",onClick:(n=t,function(){Y(W.filter((function(e,t){return t!==n})))})},e,r.createElement("span",null,r.createElement("i",{className:"fas fa-times ml-2 text-danger"})));var n})),r.createElement("input",{style:Te.input,value:X,className:"bg_themed",onChange:function(e){ee(e.target.value)},onKeyDown:function(e){if(13===e.keyCode){var t=e.target.value;Y([].concat(M(W),[t])),ee("")}W.length&&8===e.keyCode&&!X.length&&Y(W.slice(0,W.length-1))}}))))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-label-group"},r.createElement("label",null,"Product Brands"," ",r.createElement(Z,{message:"Type the brand of your product"})," "),r.createElement(w.Z,{isMulti:!1,value:ne,setValue:function(e){return re(e)},fetchData:S.$g,closeMenuOnSelect:!0,isClearable:!0}))),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Units*"," ",r.createElement(Z,{message:"Select a unit which best fits your product"})," "),r.createElement(w.Z,{isMulti:!1,value:V,setValue:function(e){return q(e)},fetchData:S.Qf,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",{className:"control-label"},"Product Price*"," "),r.createElement("div",{className:"form-group"},r.createElement("div",{className:"input-group mb-3"},r.createElement("div",{onClick:function(e){return de(e.currentTarget)},className:"input-group-prepend"},r.createElement("span",{className:"input-group-text btn_type"},y?r.createElement("div",null,y.cc):r.createElement("div",null,"KSH ."),r.createElement("i",{className:"ml-1 fas fa-chevron-down"}))),r.createElement("input",{type:"text",className:"form-control",value:I,onChange:function(e){return R(e.target.value)},placeholder:"Please input amount",required:!0}),r.createElement("div",{className:"input-group-append"},r.createElement("span",{className:"input-group-text"},".00"))))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12  form-group"},r.createElement("label",{className:"control-label"},"Product Stock Quantity*"," "),r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",value:T,onChange:function(e){return U(e.target.value)},placeholder:"Please input stock quantity",required:!0})))),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",{className:"control-label"},"Product Type"," ",r.createElement(Z,{message:"Choose whether your product is new or not"})," "),r.createElement("div",{className:"form-group"},r.createElement(P.ZP,{value:Ce,isClearable:!0,onChange:function(e){return Oe(e)},name:"type",options:[{value:"New",label:"New"},{value:"Existing",label:"Existing"}]}))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",{className:"control-label"},"Product Weight"," "),r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",value:Ze,onChange:function(e){return Me(e.target.value)},placeholder:"Please input product weight",required:!0}))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12"},r.createElement("label",{className:"control-label"},"Product Status"," ",r.createElement(Z,{message:"Select the status of your product"})," "),r.createElement(x.Z,{row:!0,"aria-label":"Active",name:"active",value:De,onChange:function(e){return Ie(e.target.value)}},r.createElement(k.Z,{value:"active",control:r.createElement(N.Z,{color:"primary"}),label:"Active"}),r.createElement(k.Z,{value:"inactive",control:r.createElement(N.Z,{color:"primary"}),label:"Inactive",color:"primary"})))),r.createElement("div",{className:"border"},r.createElement("div",{className:"border-bottom"},r.createElement("h5",{className:"p-2"},"Images",r.createElement(Z,{message:"You can add a maximum of 5 product images"})," ")),r.createElement("div",{className:"card-content"},r.createElement(m,{photos:fe,inputImage:function(e){he([].concat(M(be),[e]))},viewImage:function(e){var t=URL.createObjectURL(e);ge([].concat(M(fe),[t]))},deleteImage:function(e){var t=fe.splice(e,1),n=be.splice(e,1),r=fe.filter((function(e){return e!=t})),a=be.filter((function(e){return e!=n}));ge(r),he(a)}}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12  form-group"},r.createElement("label",{className:"control-label"},"Brief description (Max. 250 Chars)*"," ",r.createElement(Z,{message:"Enter a brief description of your product"})),r.createElement("div",{className:"form-group"},r.createElement("textarea",{type:"text",rows:4,className:"form-control",value:Ee,onChange:function(e){e.target.value.length<=250?we(e.target.value):n({isError:!0,responseMessage:{message:"Description cannot be more than 250 words"}})},placeholder:"Please input product brief description",required:!0})))),r.createElement("div",null,r.createElement("div",{className:"border"},r.createElement("h5",{className:"p-2"},"Product Description*"," ",r.createElement(Z,{message:"Add as much information as you want"})," ")),r.createElement(l.Z,{description:"",setDescription:function(e){L(e.target.getContent())}})),r.createElement("div",{className:"row justify-content-end"},r.createElement("div",{onClick:function(){return function(){if(ce(null),se(""),g&&F&&I&&V){var e,t,r=new FormData;r.append("name",g),r.append("type",null==Ce?void 0:Ce.value),r.append("weight",Ze),r.append("active",De),r.append("stock_qty",T),r.append("category_id",d?d.value.id:""),r.append("units_id",V?V.value.id:""),r.append("price",I),r.append("description",F);for(var a=0;a<be.length;a++)r.append("photos"+a,be[a]);var o=JSON.stringify(W),c=JSON.stringify(K.map((function(e){return e.id}))),l=JSON.stringify(ke);r.append("colors",c),r.append("brand",null!==(e=null==ne||null===(t=ne.value)||void 0===t?void 0:t.id)&&void 0!==e?e:""),r.append("size",o),r.append("variations",l),r.append("brief_description",Ee),s(r)}else g?F?I?V?(ce(!0),se("Please input all important fields"),n({isError:!0,responseMessage:{message:"Please input all important fields"}})):(ce(!0),se("Please add unit for item"),n({isError:!0,responseMessage:{message:"Please add unit for item"}})):(ce(!0),se("Please add price for item"),n({isError:!0,responseMessage:{message:"Please add price for item"}})):(ce(!0),se("Please insert product description"),n({isError:!0,responseMessage:{message:"Please insert product description"}})):(ce(!0),se("Please insert product name"),n({isError:!0,responseMessage:{message:"Please insert product name"}}))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Add Product"))))),r.createElement(i.Z,{popUpValues:ze,handlePopUpClick:function(e){var t=a.Z.filter((function(t){return t.cc===e}))[0];if(t){_(t);var n=a.Z.filter((function(e){return e.cc!=t.cc}));j([t].concat(M(n)))}de(null)},handlePopUp:function(e){return de(me?null:e.currentTarget)}}))}O()(j.Z,{insert:"head",singleton:!1}),j.Z.locals;var z=n(32941),T=n(90482),U=n(68134),B=n(13258);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t=e.product,n=e.deleteProduct,a=e.editProduct,o=e.canManage,c=e.viewProductDescription,l=e.index,i=e.updateProductState,s=V((0,r.useState)("../static/images/user.png"),2),u=s[0],m=s[1],d=V((0,r.useState)([]),2),p=(d[0],d[1]),f=V((0,r.useState)([]),2),g=(f[0],f[1]),v=V((0,r.useState)(null),2),b=v[0],h=v[1];(0,r.useEffect)((function(){if(t.product_images&&m(null!=t.product_images[0]&&null!=t.product_images[0].image?"..".concat(t.product_images[0].image):"../static/images/logo.svg"),t.colors&&p(t.colors),t.size){var e=JSON.parse(t.size);g(e)}}),[t]);var y={anchorEl:b,popUpItems:[{icon:r.createElement("i",{className:"fas fa-eye btn_type"}),name:"View",value:"View"},{icon:r.createElement("i",{className:"fas fa-edit btn_type"}),name:"Edit",value:"Edit"},{icon:r.createElement("i",{className:"fas fa-trash btn_type"}),name:"Delete",value:"Delete"}]};return r.createElement(r.Fragment,null,r.createElement("tr",null,r.createElement("td",null,l+1),r.createElement("td",null,r.createElement("div",{onClick:function(){return c(t)},className:"col-md-3 mt-1 view_product_img btn_type"},r.createElement("img",{src:u,alt:"product image"}))),r.createElement("td",{onClick:function(){return c(t)},className:"btn_type"},t.name),r.createElement("td",null,t.category?t.category.name:""),r.createElement("td",null,t.brand?t.brand:""),r.createElement("td",null,t.price_currency,(0,U.Z)(t.price)),r.createElement("td",null,t.stock_qty),r.createElement("td",null,t.units?"".concat(t.units.name," (").concat(t.units.symbol,")"):""),r.createElement("td",null,t.brief_description),r.createElement("td",null,r.createElement(B.Z,{checked:t.active,color:"primary",onChange:function(e){return i({id:t.id,active:e.target.checked})},inputProps:{"aria-label":"primary checkbox"}})),r.createElement("td",null,o?r.createElement("i",{onClick:function(e){return h(e.currentTarget)},className:"fas fa-ellipsis-h btn_type"}):r.createElement("div",null))),r.createElement(T.Z,{popUpValues:y,handlePopUpClick:function(e){"Delete"==e?n(t.id):"Edit"==e?a(t):"View"==e&&c(t),h(null)},handlePopUp:function(e){return h(b?null:e.currentTarget)}}))}var F=n(21539),L=n(41076),H=n(30653),K=n(68760);function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e){var t=e.show,n=e.handleModal,a=e.product,o=e.editProduct,c=(e.changePage,$((0,r.useState)(""),2)),l=c[0],i=c[1],s=$((0,r.useState)([]),2),u=s[0],m=s[1],d=$((0,r.useState)(""),2),p=d[0],f=d[1],g=$((0,r.useState)(0),2),v=g[0],b=g[1],h=$((0,r.useState)(""),2),y=h[0],E=h[1],w=$((0,r.useState)(""),2),S=w[0],P=w[1],N=$((0,r.useState)(""),2),x=N[0],k=N[1],_=$((0,r.useState)([]),2),C=_[0],O=_[1],j=$((0,r.useState)([]),2),Z=j[0],M=j[1];return(0,r.useEffect)((function(){var e,t;if(a&&(i(null!=a.product_images[0]&&null!=a.product_images[0].image?a.product_images[0].image:""),m(a.product_images),b("".concat(a.price_currency," ").concat((0,U.Z)(a.price))),E(null!==(e=null==a||null===(t=a.branding)||void 0===t?void 0:t.name)&&void 0!==e?e:""),O(a.colors),P(a.brief_description),k((0,H.ZP)(a.description)),f(a.name),a.size)){var n=JSON.parse(a.size);M(n)}}),[a]),r.createElement(K.Z,{show:t,onHide:n,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.createElement(K.Z.Header,{className:"card-header bg_themed",closeButton:!0},r.createElement(K.Z.Title,{id:"contained-modal-title-vcenter"},"View Description")),r.createElement(K.Z.Body,{className:"card-content bg_themed"},r.createElement("div",{className:"product-view-description"},r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"row"},r.createElement("div",{className:"preview col-md-6"},r.createElement("div",{className:"preview-pic tab-content row justify-content-center"},r.createElement("div",{className:"view_prod_description_img tab-pane active",id:"pic-1"},r.createElement("img",{src:"..".concat(l)}))),r.createElement("ul",{className:"preview-thumbnail nav nav-tabs"},u.map((function(e,t){return r.createElement("li",{onClick:function(){return i(e.image)},key:t,className:l==e.image?"active":""},r.createElement("a",{"data-target":"#pic-1","data-toggle":"tab"},r.createElement("img",{src:"..".concat(e.image)})))})))),r.createElement("div",{className:"details col-md-6"},r.createElement("h3",{className:"mt-2 product-title"},p),r.createElement("h4",{className:"price"},"current price: ",r.createElement("span",null,v)),r.createElement("p",{className:"vote"},r.createElement("strong",null,"Brand: ")," ",y),r.createElement("h5",{className:"sizes"},"Sizes:",Z.map((function(e,t){return r.createElement("span",{key:t,className:"size","data-toggle":"tooltip",title:"medium"},e,",")}))),r.createElement("h5",{className:"colors"},"Colors:",C.map((function(e,t){var n=e.color;return r.createElement("span",{className:"color",style:{background:n},"data-toggle":"tooltip",key:t})}))),r.createElement("div",null,r.createElement("p",{className:"mt-1 mb-2"},S)),r.createElement("div",{className:"action"},r.createElement("button",{onClick:function(){return n(),void o(a)},className:"add-to-cart btn btn-primary",type:"button"},"Edit Product"))))),r.createElement("div",{className:"row justify-content-start border-bottom mt-4"},r.createElement("h3",{className:"ml-4 font-weight-bold"},"Description")),r.createElement("p",{className:"product-description mt-2"},x))))}var Y=n(2376);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){var t=e.changePage,n=e.products,a=e.deleteProduct,o=e.editProduct,c=e.canManage,l=e.pageDetails,i=e.fetchProducts,s=e.updateProductState,u=G((0,r.useState)(""),2),m=u[0],d=u[1],p=G((0,r.useState)(25),2),f=p[0],g=p[1],v=G((0,r.useState)(null),2),b=v[0],h=v[1],y=G((0,r.useState)(),2),E=y[0],w=y[1];function S(e){w(!0),h(e)}return r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},r.createElement("div",{className:"bg_themed container-fluid"},r.createElement("div",{className:"row justify-content-between align-items-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 form-group p-1"},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control border-right-0 ",value:m,onChange:function(e){return d(e.target.value)},onKeyUp:(0,z.Z)((function(){i(1,"",m||"",f)}),2e3),placeholder:"Search"}),r.createElement("span",{className:"input-group-text border-left-0"},r.createElement("i",{className:"ml-1 fas fa-search"})))),r.createElement("div",null,c?r.createElement("div",{onClick:function(){return t(2)},className:"btn btn-primary btn-lg table_menu_btn mr-3"},"Add Product"):r.createElement("div",null))),r.createElement("div",{className:"row col-lg-12 col-md-12 col-sm-12 col-xs-12"},r.createElement(F.Z,{"aria-label":"collapsible "},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null),r.createElement("th",null,"Name"),r.createElement("th",null,"Category"),r.createElement("th",null,"Brand"),r.createElement("th",{className:"row justify-content-end mr-1"},r.createElement("i",{className:"fas fa-sort mr-2"}),"Price"),r.createElement("th",null,"Stock"),r.createElement("th",null,"Unit"),r.createElement("th",null,"Description"),r.createElement("th",null,"Active"),r.createElement("th",null,"Actions"))),r.createElement(L.Z,null,n.map((function(e,t){return r.createElement(J,{key:t,index:t,product:e,deleteProduct:a,editProduct:o,canManage:c,viewProductDescription:S,updateProductState:s})})))),l.last_page&&l.last_page>1?r.createElement(Y.Z,{rows:f,changeRows:function(e){i(1,"",m,e),g(e)},pageDetails:l,changePage:function(e){i(e,"",m,f)}}):r.createElement("div",null)))),r.createElement(W,{show:E,handleModal:function(){return w(!E)},product:b,editProduct:o}))}var te=n(34988);O()(te.Z,{insert:"head",singleton:!1}),te.Z.locals;var ne=n(37703),re=n(42905),ae=n(8295);function oe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){var t=e.changePage,n=(e.categories,e.units,e.setResponse),s=e.updateProduct,u=e.product,p=[{value:"New",label:"New"},{value:"Existing",label:"Existing"}],g=se((0,r.useState)(""),2),v=g[0],b=g[1],h=se((0,r.useState)(u.name),2),y=h[0],_=h[1],C=se((0,r.useState)(null),2),O=C[0],j=C[1],M=se((0,r.useState)([]),2),A=M[0],D=M[1],I=se((0,r.useState)(u.price),2),R=I[0],z=I[1],T=se((0,r.useState)(u.stock_qty),2),U=T[0],B=T[1],V=se((0,r.useState)(""),2),q=V[0],J=V[1],F=se((0,r.useState)(u.description?u.description:""),2),L=F[0],H=F[1],K=se((0,r.useState)([]),2),$=K[0],Q=K[1],W=se((0,r.useState)([]),2),Y=W[0],G=W[1],X=se((0,r.useState)(""),2),ee=X[0],te=X[1],ne=se((0,r.useState)(""),2),re=ne[0],ae=ne[1],ce=se((0,r.useState)(null),2),ie=ce[0],ue=ce[1],me=se((0,r.useState)(""),2),de=me[0],pe=me[1],fe=se((0,r.useState)(u.brief_description),2),ge=fe[0],ve=fe[1],be=se((0,r.useState)(null),2),he=be[0],ye=be[1],Ee=se((0,r.useState)([]),2),we=Ee[0],Se=Ee[1],Pe=se((0,r.useState)([]),2),Ne=Pe[0],xe=Pe[1],ke=se((0,r.useState)([]),2),_e=ke[0],Ce=ke[1],Oe=se((0,r.useState)([]),2),je=Oe[0],Ze=Oe[1],Me=se((0,r.useState)([]),2),Ae=Me[0],De=(Me[1],se((0,r.useState)(u.is_new_arrival?p[0]:p[1]),2)),Ie=De[0],Re=De[1],ze=se((0,r.useState)(u.weight),2),Te=ze[0],Ue=ze[1],Be=se((0,r.useState)(u.active?"active":"inactive"),2),Ve=Be[0],qe=Be[1],Je={control:function(e){return le(le({},e),{},{backgroundColor:"white"})},option:function(e,t){var n=t.data,r=t.isDisabled,a=t.isFocused,o=t.isSelected,c=f()(n.color);return le(le({},e),{},{backgroundColor:r?null:o?n.color:a?c.alpha(.1).css():null,color:r?"#ccc":o?f().contrast(c,"white")>2?"white":"black":n.color,cursor:r?"not-allowed":"default",":active":le(le({},e[":active"]),{},{backgroundColor:!r&&(o?n.color:c.alpha(.3).css())})})},multiValue:function(e,t){var n=t.data,r=f()(n.color);return le(le({},e),{},{backgroundColor:r.alpha(.1).css()})},multiValueLabel:function(e,t){var n=t.data;return le(le({},e),{},{color:n.color})},multiValueRemove:function(e,t){var n=t.data;return le(le({},e),{},{color:n.color,":hover":{backgroundColor:n.color,color:"white"}})}};function Fe(e){var t=e?"../retailer/api/custom_colors/?query=".concat(e):"../retailer/api/custom_colors/",n={headers:{Accept:"application/json","Content-Type":"application/json"}};return new Promise((function(e,r){E().get(t,n).then((function(t){Ze(t.data.colors),e(t.data.colors)})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};ue(!0),pe(t.responseMessage),r(e.responseMessage)}))}))}(0,r.useEffect)((function(){var e=a.Z.filter((function(e){return"KES"===e.cc}))[0];if(u.units){var t={value:u.units,label:u.units.name};J(t)}if(u.category){var n={value:u.category,label:u.category.name};b(n)}if(e){j(e);var r=a.Z.filter((function(t){return t.cc!=e.cc}));D([e].concat(oe(r)))}else j(a.Z[0]),D(a.Z);if(u.product_images){for(var o=[],c=0;c<u.product_images.length;c++){var l=u.product_images[c];o.push({image:"..".concat(l.image),id:l.id})}Se(o)}if(u.colors&&Q(u.colors),u.size){var i=JSON.parse(u.size);G(i)}if(u.branding){var s,m={value:null==u?void 0:u.branding,label:null==u||null===(s=u.branding)||void 0===s?void 0:s.name};ae(null!=m?m:"")}Fe()}),[u]);var Le={anchorEl:he,popUpItems:A},He={container:{border:"1px solid #ddd",padding:"5px",borderRadius:"5px"},items:{display:"inline-block",padding:"2px",border:"1px solid blue",fontFamily:"Helvetica, sans-serif",borderRadius:"5px",marginRight:"5px",cursor:"pointer",backgroundColor:"#1976d2",color:"white"},input:{outline:"none",border:"none",fontSize:"14px",fontFamily:"Helvetica, sans-serif"}};return r.createElement("div",{className:"row justify-content-center mt-2"},r.createElement("div",{className:"col-lg-12 col-md-11 col-sm-12 col-xs-12 p-2"},r.createElement("div",{className:"card"},r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between ml-2 mr-2"},r.createElement("center",null,r.createElement("h3",null,"Edit Product")),r.createElement(c.Z,{prevPropsName:"Products",propsName:"Edit Product",changePage:t}))),r.createElement("div",{className:"card-content"},r.createElement(o.Z,{isError:ie,responseMessage:de}),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12 form-label-group mt-2"},r.createElement("label",null,"Product Name*"," "),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please input product name",name:"name",value:y,onChange:function(e){return _(e.target.value)},required:!0,autoFocus:!0})),r.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Select Category"," ",r.createElement(Z,{message:"Choose a category which best fits your  product"})," "),r.createElement(w.Z,{isMulti:!1,value:v,setValue:function(e){return b(e)},fetchData:S.JD,closeMenuOnSelect:!0,isClearable:!0}))),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-label-group mt-2"},r.createElement("label",null,"Product Color"," ",r.createElement("small",null,"(Type for search)"," ",r.createElement(Z,{message:"Type, then select your colour"})," ")),r.createElement(d.ZP,{closeMenuOnSelect:!1,isMulti:!0,loadOptions:Fe,defaultOptions:je,cacheOptions:!0,styles:Je,value:$,onChange:function(e){return Q(e)}})),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-label-group mt-2"},r.createElement("label",null,"Product Sizes (Press enter to add)"," ",r.createElement(Z,{message:"Type the size, then press enter"})," "),r.createElement("div",null,r.createElement("label",{className:"row ml-1 mr-1"},r.createElement("ul",{style:He.container,className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},Y.map((function(e,t){return r.createElement("li",{key:t,style:He.items,className:"mr-2",onClick:(n=t,function(){G(Y.filter((function(e,t){return t!==n})))})},e,r.createElement("span",null,r.createElement("i",{className:"fas fa-times ml-2 text-danger"})));var n})),r.createElement("input",{style:He.input,value:ee,className:"bg_themed",onChange:function(e){te(e.target.value)},onKeyDown:function(e){if(13===e.keyCode){var t=e.target.value;G([].concat(oe(Y),[t])),te("")}Y.length&&8===e.keyCode&&!ee.length&&G(Y.slice(0,Y.length-1))}}))))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-label-group mt-2"},r.createElement("label",null,"Product Brands"," ",r.createElement(Z,{message:"Type the brand of your product"})," "),r.createElement(w.Z,{isMulti:!1,value:re,setValue:function(e){return ae(e)},fetchData:S.$g,closeMenuOnSelect:!0,isClearable:!0}))),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Units*"," ",r.createElement(Z,{message:"Select a unit which best fits your product"})," "),r.createElement(w.Z,{isMulti:!1,value:q,setValue:function(e){return J(e)},fetchData:S.Qf,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",{className:"control-label"},"Product Price*"," "),r.createElement("div",{className:"form-group"},r.createElement("div",{className:"input-group mb-3"},r.createElement("div",{onClick:function(e){return ye(e.currentTarget)},className:"input-group-prepend"},r.createElement("span",{className:"input-group-text btn_type"},O?r.createElement("div",null,O.cc):r.createElement("div",null,"KSH ."),r.createElement("i",{className:"ml-1 fas fa-chevron-down"}))),r.createElement("input",{type:"text",className:"form-control",value:R,onChange:function(e){return z(e.target.value)},placeholder:"Please input amount",required:!0}),r.createElement("div",{className:"input-group-append"},r.createElement("span",{className:"input-group-text"},".00"))))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12  form-group"},r.createElement("label",{className:"control-label"},"Product Stock Quantity*"," "),r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",value:U,onChange:function(e){return B(e.target.value)},placeholder:"Please input stock quantity",required:!0})))),r.createElement("div",{className:"row justify-content-between align-content-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",{className:"control-label"},"Product Type"," "),r.createElement("div",{className:"form-group"},r.createElement(P.ZP,{value:Ie,isClearable:!0,onChange:function(e){return Re(e)},name:"type",options:p}))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},r.createElement("label",{className:"control-label"},"Product Weight"," "),r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",value:Te,onChange:function(e){return Ue(e.target.value)},placeholder:"Please input product weight",required:!0}))),r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12"},r.createElement("label",{className:"control-label"},"Product Status"," "),r.createElement(x.Z,{row:!0,"aria-label":"Active",name:"active",value:Ve,onChange:function(e){return qe(e.target.value)}},r.createElement(k.Z,{value:"active",control:r.createElement(N.Z,{color:"primary"}),label:"Active"}),r.createElement(k.Z,{value:"inactive",control:r.createElement(N.Z,{color:"primary"}),label:"Inactive",color:"primary"})))),r.createElement("div",{className:"border"},r.createElement("div",{className:"card-header"},r.createElement("h5",null,"Images"," ")),r.createElement("div",{className:"card-content"},r.createElement(m,{photos:we.map((function(e){return e.image})),inputImage:function(e){xe([].concat(oe(Ne),[e]))},viewImage:function(e){var t=URL.createObjectURL(e);Se([].concat(oe(we),[{image:t}]))},deleteImage:function(e){var t=we.splice(e,1)[0],n=Ne.splice(e,1)[0];t.id&&Ce([].concat(oe(_e),[t.id]));var r=we.filter((function(e){return e!=t})),a=Ne.filter((function(e){return e!=n}));Se(r),xe(a)}}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12  form-group"},r.createElement("label",{className:"control-label"},"Brief description(250)*"," "),r.createElement("div",{className:"form-group"},r.createElement("textarea",{type:"text",rows:4,className:"form-control",value:ge,onChange:function(e){e.target.value.length<=250?ve(e.target.value):n({isError:!0,responseMessage:{message:"Description cannot be more than 250 words"}})},placeholder:"Please input product brief description",required:!0})))),r.createElement("div",null,r.createElement("div",{className:"card-header mt-2"},r.createElement("h5",null,"Product Description*"," ")),r.createElement(l.Z,{description:u.description?u.description:"",setDescription:function(e){H(e.target.getContent())}})),r.createElement("div",{className:"row justify-content-end"},r.createElement("div",{onClick:function(){return function(){if(ue(null),pe(""),y&&L&&R&&q){var e,t,r=new FormData;r.append("name",y),r.append("category_id",v?v.value.id:""),r.append("qty",U),r.append("unit_id",q?q.value.id:""),r.append("price",R),r.append("description",L),r.append("id",u.id),r.append("type",null==Ie?void 0:Ie.value),r.append("weight",Te),r.append("active",Ve);for(var a=0;a<Ne.length;a++)r.append("photos"+a,Ne[a]);var o=JSON.stringify(Y),c=JSON.stringify(Ae),l=JSON.stringify($.map((function(e){return e.id}))),i=JSON.stringify(_e);r.append("colors",l),r.append("brand",null!==(e=null==re||null===(t=re.value)||void 0===t?void 0:t.id)&&void 0!==e?e:""),r.append("size",o),r.append("variations",c),r.append("deletedImages",i),r.append("brief_description",ge),s(r)}else y?q?L?v?R?(ue(!0),pe("Please input all important fields"),n({isError:!0,responseMessage:{message:"Please input all important fields"}})):(ue(!0),pe("Please add price for item"),n({isError:!0,responseMessage:{message:"Please add price for item"}})):(ue(!0),pe("Please insert product category"),n({isError:!0,responseMessage:{message:"Please insert product category"}})):(ue(!0),pe("Please insert product description"),n({isError:!0,responseMessage:{message:"Please insert product description"}})):(ue(!0),pe("Please add unit for item"),n({isError:!0,responseMessage:{message:"Please add unit for item"}})):(ue(!0),pe("Please insert product name"),n({isError:!0,responseMessage:{message:"Please insert product name"}}))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Save Product"))))),r.createElement(i.Z,{popUpValues:Le,handlePopUpClick:function(e){var t=a.Z.filter((function(t){return t.cc===e}))[0];if(t){j(t);var n=a.Z.filter((function(e){return e.cc!=t.cc}));D([t].concat(oe(n)))}ye(null)},handlePopUp:function(e){return ye(he?null:e.currentTarget)}}))}var pe=n(29130);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function be(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(l,e);var t,n,a,o,c=(a=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(a);if(o){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return be(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,productItem:null},t.closeSnackBar=t.closeSnackBar.bind(he(t)),t.setResponse=t.setResponse.bind(he(t)),t.changePage=t.changePage.bind(he(t)),t.editProduct=t.editProduct.bind(he(t)),t}return t=l,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,r=t.message;n!==e.error?this.setResponse(n):r!==e.message&&(201==r.status&&this.setState({currentPage:1}),this.setResponse(r))}},{key:"componentDidMount",value:function(){this.props.fetchProducts(1)}},{key:"changePage",value:function(e){this.setState({currentPage:e})}},{key:"editProduct",value:function(e){this.props.fetchCategories(),this.props.fetchProductUnits(),this.setState({currentPage:3,productItem:e})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],n=e.responseMessage[t];n instanceof Array?this.setState({responseMessage:n[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:n,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.productsReducer,n=e.updateProduct,a=e.addProduct,o=e.deleteProduct,c=e.auth,l=e.searchProducts,i=e.fetchPaginatedProducts,s=e.fetchProducts,u=e.updateProductState,m=t.products,d=t.isLoading,p=t.categories,f=t.units,g=t.products_current_page,v=t.products_last_page,b=this.state,h=b.openSnackBar,y=b.isError,E=b.responseMessage,w=b.snackPosition,S=b.currentPage,P=b.productItem,N={isError:y,responseMessage:E,openSnackBar:h,snackPosition:w};if(!c.group.permission.can_view_products)return(0,pe.Z)(this.props.auth.group.permission);var x={current_page:g,last_page:v};switch(S){case 1:return r.createElement("div",null,r.createElement(re.Z,{open:d}),r.createElement(ee,{changePage:this.changePage,products:m,deleteProduct:o,editProduct:this.editProduct,canManage:c.group.permission.can_manage_product,searchProducts:l,fetchPaginatedProducts:i,pageDetails:x,fetchProducts:s,updateProductState:u}),r.createElement(ae.Z,{values:N,closeSnackBar:this.closeSnackBar}));case 2:return r.createElement("div",null,r.createElement(re.Z,{open:d}),r.createElement(R,{changePage:this.changePage,setResponse:this.setResponse,addProduct:a}),r.createElement(ae.Z,{values:N,closeSnackBar:this.closeSnackBar}));case 3:return r.createElement("div",null,r.createElement(re.Z,{open:d}),r.createElement(de,{changePage:this.changePage,units:f,categories:p,setResponse:this.setResponse,updateProduct:n,product:P}),r.createElement(ae.Z,{values:N,closeSnackBar:this.closeSnackBar}));default:return r.createElement("div",null,r.createElement(re.Z,{open:d}),r.createElement(ee,{changePage:this.changePage,products:m,searchProduct}),r.createElement(ae.Z,{values:N,closeSnackBar:this.closeSnackBar}))}}}])&&ge(t.prototype,n),l}(r.Component);const we=(0,ne.$j)((function(e){return{auth:e.authReducer,productsReducer:e.productsReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchProducts:S.t2,fetchCategories:S.pE,fetchProductUnits:S.sP,addProduct:S.gK,updateProduct:S.nM,deleteProduct:S.Ir,searchProducts:S.s3,fetchPaginatedProducts:S.rp,updateProductState:S.Jz})(Ee)},15643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(76770);var r=n(98005),a=n.n(r);function o(e){return new Promise((function(t,n){new(a())(e,{quality:1,success:function(e){var n=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<10;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}(),r=new File([e],"".concat(n,".png"),{type:"image/png",lastModified:(new Date).getTime()});t(r)},error:function(e){n(e)}})}))}},6849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),a=n(15074);function o(e){var t=e.description,n=e.setDescription,o="light",c=document.getElementsByTagName("body")[0];return r.createElement(a.M,{initialValue:t,init:{plugins:"autolink link image lists print preview",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | fontsizeselect  fontselect sizeselect ",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",width:"100%",height:"500px",skin:c.classList.contains(o)?"":"oxide-dark",content_css:c.classList.contains(o)?"":"dark"},onChange:function(e){return n(e)}})}},34988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(23645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,'.ratings i {\n    font-size: 16px;\n    color: red;\n}\n\n.strike-text {\n    color: red;\n    text-decoration: line-through;\n}\n\n.view_product_img {\n    width: 80px;\n    height: 80px;\n    /* overflow: hidden; */\n    border-radius: 10px;\n}\n\n.view_product_img img {\n    width: inherit;\n    height: inherit;\n    object-fit: contain;\n}\n\n.product_dot {\n    height: 7px;\n    width: 7px;\n    margin-left: 6px;\n    margin-right: 6px;\n    margin-top: 3px;\n    background-color: blue;\n    border-radius: 50%;\n    display: inline-block;\n}\n\n.spec-1 {\n    color: #938787;\n    font-size: 15px;\n}\n\nh5 {\n    font-weight: 400;\n}\n\n.para {\n    font-size: 16px;\n}\n\n.image_view_card {\n    margin-bottom: 30px;\n    cursor: pointer;\n    overflow: hidden;\n    display: flex;\n    position: relative;\n}\n\n.image_view_card img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n}\n\n.image_add {\n    height: 200px;\n    width: 200px;\n    color: black;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.image_add img {\n    margin: 0px;\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n}\n\n.image_view_card .delete_btn {\n    /* float: right; */\n    cursor: pointer;\n    background-color: #e74c3c;\n    border: 0;\n    color: #fff;\n    font-size: 20px;\n    line-height: 20px;\n    /* padding: 2px 5px; */\n    transform: (-100%, -100%);\n    position: absolute;\n    top: 0;\n    right: 0;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n}\n\n.image_view_card:hover .delete_btn {\n    opacity: 1;\n}\n\n.add_color_input {\n    background: transparent;\n    border: none;\n}\n\n.product_description {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    /* number of lines to show */\n    -webkit-box-orient: vertical;\n}\n\n\n/* ! Product view page */\n\n\n/* .product-view-description img {\n    max-width: 100%; \n}\n   */\n\n.product-view-description .preview {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -ms-flex-direction: column;\n    flex-direction: column;\n}\n\n@media screen and (max-width: 996px) {\n    .preview {\n        margin-bottom: 20px;\n    }\n}\n\n.product-view-description .preview-pic {\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n}\n\n.product-view-description .view_prod_description_img {\n    width: 300px;\n    height: 300px;\n    overflow: hidden;\n    align-self: center;\n}\n\n.product-view-description .view_prod_description_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.product-view-description .preview-thumbnail.nav-tabs {\n    border: none;\n    margin-top: 15px;\n}\n\n.product-view-description .preview-thumbnail.nav-tabs li {\n    width: 18%;\n    margin-right: 2.5%;\n}\n\n.product-view-description .preview-thumbnail.nav-tabs li img {\n    max-width: 100%;\n    display: block;\n}\n\n.product-view-description .preview-thumbnail.nav-tabs li a {\n    padding: 0;\n    margin: 0;\n}\n\n.product-view-description .preview-thumbnail.nav-tabs li:last-of-type {\n    margin-right: 0;\n}\n\n.product-view-description .tab-content {\n    overflow: hidden;\n}\n\n.product-view-description .tab-content img {\n    width: 100%;\n    -webkit-animation-name: opacity;\n    animation-name: opacity;\n    -webkit-animation-duration: 0.3s;\n    animation-duration: 0.3s;\n}\n\n.product-view-description .card {\n    /* background: #eee; */\n    padding: 3em;\n    line-height: 1.5em;\n}\n\n@media screen and (min-width: 997px) {\n    .product-view-description .wrapper {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -ms-flexbox;\n        display: flex;\n    }\n}\n\n.product-view-description .details {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -ms-flex-direction: column;\n    flex-direction: column;\n}\n\n.product-view-description .colors {\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n}\n\n.product-view-description .product-title,\n.price,\n.sizes,\n.colors {\n    text-transform: UPPERCASE;\n    font-weight: bold;\n}\n\n.product-view-description .checked,\n.price span {\n    color: #ff9f1a;\n}\n\n.product-view-description .product-title,\n.rating,\n.product-description,\n.price,\n.vote,\n.sizes {\n    margin-bottom: 15px;\n}\n\n.product-view-description .product-description {\n    text-indent: 50px;\n    text-align: justify;\n}\n\n.product-view-description .product-title {\n    margin-top: 0;\n}\n\n.product-view-description .size {\n    margin-right: 10px;\n}\n\n.size:first-of-type {\n    margin-left: 40px;\n}\n\n.product-view-description .color {\n    display: inline-block;\n    vertical-align: middle;\n    margin-right: 10px;\n    height: 2em;\n    width: 2em;\n    border-radius: 1em;\n}\n\n.color:first-of-type {\n    margin-left: 20px;\n}\n\n.product-view-description .add-to-cart,\n.like {\n    padding: 1.2em 1.5em;\n    border: none;\n    text-transform: UPPERCASE;\n    font-weight: bold;\n    color: #fff;\n    -webkit-transition: background 0.3s ease;\n    transition: background 0.3s ease;\n}\n\n.add-to-cart:hover,\n.like:hover {\n    color: #fff;\n}\n\n.product-view-description .not-available {\n    text-align: center;\n    line-height: 2em;\n}\n\n.product-view-description .not-available:before {\n    font-family: fontawesome;\n    content: "\\f00d";\n    color: #fff;\n}\n\n.product-view-description .tooltip-inner {\n    padding: 1.3em;\n}\n\n@-webkit-keyframes opacity {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(3);\n        transform: scale(3);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1);\n        transform: scale(1);\n    }\n}\n\n@keyframes opacity {\n    0% {\n        opacity: 0;\n        -webkit-transform: scale(3);\n        transform: scale(3);\n    }\n    100% {\n        opacity: 1;\n        -webkit-transform: scale(1);\n        transform: scale(1);\n    }\n}',""]);const o=a},35094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(23645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".tool_tip {\n    cursor: help;\n    position: relative;\n}\n\n.tool_tip {\n    font-size: 14px;\n}",""]);const o=a},50247:()=>{}}]);