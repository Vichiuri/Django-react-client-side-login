"use strict";(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[316],{22318:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(87462),a=r(45987),o=r(67294),l=(r(45697),r(86010)),c=r(14670),i=r(93871),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},s=o.forwardRef((function(e,t){var r=e.align,c=void 0===r?"inherit":r,s=e.classes,m=e.className,p=e.color,d=void 0===p?"initial":p,f=e.component,h=e.display,y=void 0===h?"initial":h,v=e.gutterBottom,g=void 0!==v&&v,b=e.noWrap,E=void 0!==b&&b,P=e.paragraph,_=void 0!==P&&P,S=e.variant,w=void 0===S?"body1":S,x=e.variantMapping,L=void 0===x?u:x,A=(0,a.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),N=f||(_?"p":L[w]||u[w])||"span";return o.createElement(N,(0,n.Z)({className:(0,l.Z)(s.root,m,"inherit"!==w&&s[w],"initial"!==d&&s["color".concat((0,i.Z)(d))],E&&s.noWrap,g&&s.gutterBottom,_&&s.paragraph,"inherit"!==c&&s["align".concat((0,i.Z)(c))],"initial"!==y&&s["display".concat((0,i.Z)(y))]),ref:t},A))}));const m=(0,c.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(s)},89867:(e,t,r)=>{r.r(t),r.d(t,{default:()=>B});var n=r(67294),a=r(37703),o=r(8719),l=r(8295),c=r(42905),i=r(76523);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t=e.price,r=(e.index,e.updatePriceList,e.viewPriceLists),a=u((0,n.useState)(""),2),o=a[0],l=a[1],c=u((0,n.useState)(""),2),i=c[0],s=c[1],m=u((0,n.useState)(""),2),p=m[0],d=m[1],f=u((0,n.useState)(""),2),h=f[0],y=f[1],v=u((0,n.useState)(""),2),g=v[0],b=v[1];return(0,n.useEffect)((function(){l(t.price_list.min_amount?t.price_list.min_amount:1),s(t.price_list.max_amount?t.price_list.max_amount:1),d(t.price_list.rate?t.price_list.rate:t.price),y(t.price_list.discount_amount?t.price_list.discount_amount:0),b(t.price_list.discount_percent?t.price_list.discount_percent:0)}),[t]),n.createElement(n.Fragment,null,n.createElement("tr",null,n.createElement("td",null,"#"),n.createElement("td",null,t.name),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter min amount",value:o,name:"minAmount",onChange:function(e){return l(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter max amount",value:i,name:"maxAmount",onChange:function(e){return s(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter rate",value:p,name:"rate",onChange:function(e){return d(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount amount",value:h,name:"disc_amount",onChange:function(e){return y(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount percentage",value:g,name:"disc_amount",onChange:function(e){return b(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("button",{onClick:function(){return r(t)},className:"btn btn-primary"},"Add"))))}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){e.uploadPriceList;var t,r,a=e.price_list,o=e.deletePriceList,l=e.updatePriceList,c=e.viewPriceLists,i=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i[0],i[1],n.createElement(n.Fragment,null,n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between"},n.createElement("h3",null,"Price Table"),n.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 form-group"}))),n.createElement("div",{className:"row"},n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"#"),n.createElement("th",null,"Product"),n.createElement("th",null,"Min Amount*"),n.createElement("th",null,"Max Amount*"),n.createElement("th",null,"Rate*"),n.createElement("th",null,"Disc Amount*"),n.createElement("th",null,"Perc Amount*"),n.createElement("th",null,"Actions"))),n.createElement("tbody",null,a.map((function(e,t){return n.createElement(m,{price:e,index:t,key:t,updatePriceList:l,deletePriceList:o,viewPriceLists:c})}))))))}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){e.changePage,e.products;var t=e.categories,r=e.price_levels,a=e.addPriceList,o=(e.fetchProducts,e.price_list),l=e.fetchPriceLists,c=e.updatePriceList,u=e.deletePriceList,s=e.goToViewProduct,m=f((0,n.useState)(""),2),p=m[0],h=m[1],y=f((0,n.useState)(""),2),v=y[0],g=y[1],b=f((0,n.useState)(""),2),E=b[0],P=(b[1],f((0,n.useState)(""),2)),_=P[0],S=P[1],w=f((0,n.useState)(null),2),x=w[0],L=w[1],A=f((0,n.useState)(""),2),N=A[0],O=A[1];return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("h3",null," PriceList")),n.createElement("div",{className:"card-content"},n.createElement(i.Z,{isError:x,responseMessage:N}),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Level*"),n.createElement("select",{class:"form-control",value:v,onChange:function(e){l(1,p,_,e.target.value),g(e.target.value)},required:!0,autoFocus:!0},n.createElement("option",{value:""},"..."),r.map((function(e,t){return n.createElement("option",{key:t,value:e.id},e.level_name)})))),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12  form-group"},n.createElement("label",null,"Select Category"),n.createElement("select",{class:"form-control",value:p,onChange:function(e){h(e.target.value),l(1,e.target.value,_,v)}},n.createElement("option",{value:""},"..."),t.map((function(e,t){return n.createElement("option",{key:t,value:e.id},e.name)})))),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Applicable From*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter date applicable",value:_,name:"from",onChange:function(e){l(1,p,e.target.value,v),S(e.target.value)},required:!0}))),n.createElement(d,{uploadPriceList:function(e,t,r,n,o){L(null),O(""),v&&E&&e&&t&&r&&n&&o&&_?a({category_id:p,product_id:E,level_id:v,min_amount:e,max_amount:t,rate:r,discount_amount:n,discount_percent:o,date_from:_}):(L(!0),O("Please input all relevant fields"))},price_list:o,updatePriceList:c,deletePriceList:u,viewPriceLists:function(e){s({product:e,category:p,level:v,from:_})}})))))}var v=r(73288),g=r(68134);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){var t=e.price,r=e.updatePriceList,a=e.deletePriceList,o=e.index,l=b((0,n.useState)(""),2),c=l[0],i=l[1],u=b((0,n.useState)(""),2),s=u[0],m=u[1],p=b((0,n.useState)(""),2),d=p[0],f=p[1],h=b((0,n.useState)(""),2),y=h[0],v=h[1],E=b((0,n.useState)(""),2),P=E[0],_=E[1],S=b((0,n.useState)(!1),2),w=S[0],x=S[1];return(0,n.useEffect)((function(){i(t.min_amount?t.min_amount:1),m(t.max_amount?t.max_amount:1),f(t.rate?t.rate:0),v(t.discount_amount?t.discount_amount:0),_(t.discount_percent?t.discount_percent:0)}),[t]),n.createElement(n.Fragment,null,w?n.createElement("tr",null,n.createElement("td",null,"#"),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter min amount",value:c,name:"minAmount",onChange:function(e){return i(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter max amount",value:s,name:"maxAmount",onChange:function(e){return m(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter rate",value:d,name:"rate",onChange:function(e){return f(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount amount",value:y,name:"disc_amount",onChange:function(e){return v(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount percentage",value:P,name:"disc_amount",onChange:function(e){return _(e.target.value)}})),n.createElement("td",null,n.createElement("i",{onClick:function(){c&&s&&d&&(r({min_amount:c,max_amount:s,rate:d,discount_amount:y,discount_percent:P,id:t.id}),x(!1))},className:"fas fa-check text-success btn_type"}),n.createElement("i",{onClick:function(){return x(!1)},className:"fas fa-times text-danger btn_type ml-2"}))):n.createElement("tr",null,n.createElement("td",null,o+1),n.createElement("td",null,t.min_amount),n.createElement("td",null,t.max_amount),n.createElement("td",null,"Ksh. ",(0,g.Z)(t.rate)),n.createElement("td",null,t.discount_amount),n.createElement("td",null,t.discount_percent),n.createElement("td",null,n.createElement("i",{onClick:function(){return x(!0)},className:"fas fa-edit text-primary btn_type"}),n.createElement("i",{onClick:function(){return a(t.id)},className:"fas fa-trash text-danger btn_type ml-2"}))))}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=e.price_list,r=e.currentPrice,a=e.uploadPriceList,o=e.updatePriceList,l=e.deletePriceList,c=_((0,n.useState)(""),2),i=c[0],u=c[1],s=_((0,n.useState)(""),2),m=s[0],p=s[1],d=_((0,n.useState)(r),2),f=d[0],h=d[1],y=_((0,n.useState)(""),2),v=y[0],g=y[1],b=_((0,n.useState)(""),2),E=b[0],S=b[1];return(0,n.useEffect)((function(){h(r);var e=t.sort((function(e,t){return t.max_amount-e.max_amount}));u(e[0]?e[0].max_amount+1:"")}),[r,t]),n.createElement(n.Fragment,null,n.createElement("div",{className:"card-header"},n.createElement("h3",null,"Price Table")),n.createElement("div",{className:"row"},n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"#"),n.createElement("th",null,"Min Amount*"),n.createElement("th",null,"Max Amount*"),n.createElement("th",null,"Rate Per Product*"),n.createElement("th",null,"Disc Amount"),n.createElement("th",null,"Perc Amount"),n.createElement("th",null,"Actions"))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"#"),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter min amount",value:i,name:"minAmount",onChange:function(e){return u(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter max amount",value:m,name:"maxAmount",onChange:function(e){return p(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter rate",value:f,name:"rate",onChange:function(e){return h(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount amount",value:v,name:"disc_amount",onChange:function(e){return g(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount percentage",value:E,name:"disc_amount",onChange:function(e){return S(e.target.value)}})),n.createElement("td",null,n.createElement("div",{onClick:function(){return a(i,m,f,v,E),u(t[0]?t[0].max_amount+1:""),p(""),h(r),g(""),void S("")},className:"btn btn-primary"},"Add"))),t.map((function(e,t){return n.createElement(P,{price:e,index:t,key:t,updatePriceList:o,deletePriceList:l})}))))))}var x=r(79860);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var t=e.price_list,r=(e.products,e.categories,e.price_levels),a=e.changePage,l=(e.price_values,e.fetchPriceLists),c=e.price_data,u=e.updatePriceList,s=e.deletePriceList,m=e.addPriceList,p=L((0,n.useState)(""),2),d=p[0],f=p[1],h=L((0,n.useState)(""),2),y=h[0],g=h[1],b=L((0,n.useState)(""),2),E=b[0],P=b[1],_=L((0,n.useState)(""),2),S=_[0],A=_[1],N=L((0,n.useState)(null),2),O=N[0],j=N[1],k=L((0,n.useState)(""),2),C=k[0],M=k[1];return(0,n.useEffect)((function(){if(c){var e={value:c.product,label:c.product.name};f(c.category),P(e),A(c.from),g(c.level),l(1,c.product.id,c.from,c.level)}}),[c]),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between ml-2 mr-2"},n.createElement("center",null,n.createElement("h3",null,"View PriceList")),n.createElement(v.Z,{prevPropsName:"Price Lists",propsName:"Add Price List",changePage:a}))),n.createElement("div",{className:"card-content"},n.createElement(i.Z,{isError:O,responseMessage:C}),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Level*"),n.createElement("select",{class:"form-control",value:y,onChange:function(e){l(1,E.value.id,S,e.target.value),g(e.target.value)},required:!0,autoFocus:!0},n.createElement("option",{value:""},"..."),r.map((function(e,t){return n.createElement("option",{key:t,value:e.id},e.level_name)})))),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12  form-group"},n.createElement("label",null,"Select Product"),n.createElement(x.Z,{isMulti:!1,value:E,setValue:function(e){P(e),l(1,e.value.id,S,y)},fetchData:o.RQ,closeMenuOnSelect:!0})),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Applicable From*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter date applicable",value:S,name:"from",onChange:function(e){l(1,E.value.id,e.target.value,y),A(e.target.value)},required:!0}))),n.createElement(w,{price_list:t,currentPrice:E?E.value.price:"",uploadPriceList:function(e,t,r,n,a){y&&E&&e&&t&&r&&S?(j(null),M(""),m({category_id:d,product_id:E.value.id,level_id:y,min_amount:e,max_amount:t,rate:r,discount_amount:n,discount_percent:a,date_from:S})):(j(!0),M("Please input all relevant fields"))},updatePriceList:u,deletePriceList:s})))))}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,r,a,o,i=(a=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(a);if(o){var r=R(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return C(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,viewPrice:null,price_data:null},t.closeSnackBar=t.closeSnackBar.bind(M(t)),t.setResponse=t.setResponse.bind(M(t)),t.changePage=t.changePage.bind(M(t)),t.viewEditPriceList=t.viewEditPriceList.bind(M(t)),t.goToViewProduct=t.goToViewProduct.bind(M(t)),t}return t=u,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.error,n=t.message;r!==e.error?this.setResponse(r):n!==e.message&&this.setResponse(n)}},{key:"componentDidMount",value:function(){this.props.fetchCategories(),this.props.fetchProducts(1),this.props.fetchProductPriceLevels(),this.props.fetchAddPriceList(1)}},{key:"changePage",value:function(e){2==e&&(this.props.fetchCategories(),this.props.fetchProductPriceLevels(),this.props.fetchAddPriceList(1)),this.setState({currentPage:e})}},{key:"viewEditPriceList",value:function(e){this.props.fetchCategories(),this.props.fetchProducts(1),this.props.fetchProductPriceLevels(),this.setState({viewPrice:e,currentPage:3})}},{key:"goToViewProduct",value:function(e){this.setState({price_data:e,currentPage:2})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],r=e.responseMessage[t];r instanceof Array?this.setState({responseMessage:r[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:r,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.productsReducer,r=e.addPriceList,a=e.fetchProducts,o=e.fetchAddPriceList,i=e.updatePriceList,u=e.deletePriceList,s=e.fetchPriceLists,m=e.auth,p=t.price_lists,d=t.product_price_list,f=t.categories,h=t.isLoading,v=t.products,g=t.price_levels,b=this.state,E=b.openSnackBar,P=b.isError,_=b.responseMessage,S=b.snackPosition,w=b.currentPage,x=(b.viewPrice,b.price_data),L={isError:P,responseMessage:_,openSnackBar:E,snackPosition:S};if(!m.group.permission.can_view_products)return PermissionHandler(this.props.auth.group.permission);switch(w){case 1:default:return n.createElement("div",null,n.createElement(c.Z,{open:h}),n.createElement(y,{changePage:this.changePage,products:v,categories:f,price_levels:g,addPriceList:r,fetchProducts:a,price_list:d,fetchPriceLists:o,updatePriceList:i,deletePriceList:u,goToViewProduct:this.goToViewProduct}),n.createElement(l.Z,{values:L,closeSnackBar:this.closeSnackBar}));case 2:return n.createElement("div",null,n.createElement(c.Z,{open:h}),n.createElement(N,{changePage:this.changePage,products:v,categories:f,price_levels:g,fetchProducts:a,price_list:p,fetchPriceLists:s,updatePriceList:i,deletePriceList:u,addPriceList:r,price_data:x}))}}}])&&j(t.prototype,r),u}(n.Component);const B=(0,a.$j)((function(e){return{auth:e.authReducer,productsReducer:e.productsReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchPriceLists:o.Vo,fetchAddPriceList:o.Qz,addPriceList:o.zz,fetchProducts:o.t2,fetchCategories:o.pE,fetchProductPriceLevels:o.zn,updatePriceList:o.ND,deletePriceList:o.Rr})(Z)},68134:(e,t,r)=>{function n(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}r.d(t,{Z:()=>n})},79860:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(67294),a=r(91506);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=e.value,r=e.setValue,o=e.fetchData,c=e.isMulti,i=e.closeMenuOnSelect,u=e.isDisabled,s=e.isClearable,m="light",p=document.getElementsByTagName("body")[0],d={control:function(e){return l(l({},e),{},{backgroundColor:p.classList.contains(m)?"#ffffff":"#212529"})},menu:function(e){return l(l({},e),{},{backgroundColor:p.classList.contains(m)?"#ffffff":"#212529"})},option:function(e,t){var r=t.isFocused;return l(l({},e),{},{backgroundColor:p.classList.contains(m)?r?"#f1f1f1":"#ffffff":r?"#f1f1f1":"#212529"})}};return n.createElement(a.n9,{isMulti:c,isClearable:s,loadOptions:o,value:t,onChange:r,additional:{page:1},styles:d,closeMenuOnSelect:i,key:Math.random(),isDisabled:u})}},73288:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(67294),a=r(41120),o=r(22318),l=r(10770),c=r(89659),i=r(73727),u=(0,a.Z)((function(e){return{link:{display:"flex"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function s(e){var t=u(),r=e.propsName,a=e.changePage,s=e.prevPropsName;return n.createElement(l.Z,{"aria-label":"breadcrumb"},n.createElement(i.rU,{to:"/",style:{color:"grey"},className:t.link},"Home"),n.createElement(c.Z,{color:"initial",href:"/product",onClick:function(e){e.preventDefault(),a(1)},className:"side_nav_item"},n.createElement("span",null,s)),n.createElement(o.Z,{color:"initial",className:"side_nav_item"},r))}},69921:(e,t)=>{if("function"==typeof Symbol&&Symbol.for){var r=Symbol.for;r("react.element"),r("react.portal"),r("react.fragment"),r("react.strict_mode"),r("react.profiler"),r("react.provider"),r("react.context"),r("react.forward_ref"),r("react.suspense"),r("react.suspense_list"),r("react.memo"),r("react.lazy"),r("react.block"),r("react.server.block"),r("react.fundamental"),r("react.debug_trace_mode"),r("react.legacy_hidden")}},59864:(e,t,r)=>{r(69921)},15671:(e,t,r)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>n})}}]);