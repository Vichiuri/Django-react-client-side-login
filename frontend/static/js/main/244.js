"use strict";(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[244],{22318:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(87462),o=a(45987),l=a(67294),r=(a(45697),a(86010)),i=a(14670),c=a(93871),s={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},u=l.forwardRef((function(e,t){var a=e.align,i=void 0===a?"inherit":a,u=e.classes,m=e.className,f=e.color,d=void 0===f?"initial":f,p=e.component,g=e.display,h=void 0===g?"initial":g,v=e.gutterBottom,y=void 0!==v&&v,b=e.noWrap,E=void 0!==b&&b,N=e.paragraph,S=void 0!==N&&N,w=e.variant,x=void 0===w?"body1":w,P=e.variantMapping,M=void 0===P?s:P,_=(0,o.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=p||(S?"p":M[x]||s[x])||"span";return l.createElement(k,(0,n.Z)({className:(0,r.Z)(u.root,m,"inherit"!==x&&u[x],"initial"!==d&&u["color".concat((0,c.Z)(d))],E&&u.noWrap,y&&u.gutterBottom,S&&u.paragraph,"inherit"!==i&&u["align".concat((0,c.Z)(i))],"initial"!==h&&u["display".concat((0,c.Z)(h))]),ref:t},_))}));const m=(0,i.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(u)},39155:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var n=a(67294),o=a(37703),l=a(1415),r=a(8719),i=a(51446),c=a(29130),s=a(8295),u=a(42905);function m(e){var t=e.notification,a=e.deleteMobileNotification,o=e.editNotification;return n.createElement("div",{className:"border-bottom p-2"},n.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.createElement("div",{className:"row align-items-center"},n.createElement("div",{className:"notification_img mr-4"},n.createElement("img",{src:t.pic?"..".concat(t.pic):"",alt:""})),n.createElement("div",null,n.createElement("h5",null,t.name),n.createElement("p",null,t.detail))),n.createElement("div",{className:"d-block"},n.createElement("div",{onClick:function(){return o(t)},className:"btn btn-primary mr-2"},n.createElement("i",{className:"fas fa-edit text-white"})),n.createElement("div",{onClick:function(){return a(t.id)},className:"btn btn-danger"},n.createElement("i",{className:"fas fa-times text-white"})))))}function f(e){var t=e.notifications,a=e.changePage,o=e.editNotification,l=e.deleteMobileNotification;return n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("h3",null,"Notifications"),n.createElement("i",{onClick:function(){return a(2)},className:"fas fa-plus btn_type"})),n.createElement("div",{className:"card-content"},t.map((function(e,t){return n.createElement(m,{key:t,notification:e,editNotification:o,deleteMobileNotification:l})}))))))}var d=a(5186),p=a(15643),g=a(76523),h=a(73288),v=a(79860),y=a(15690),b=a(23157);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function S(e){var t=e.addMobileNotification,a=e.changePage,o=[{label:"All",value:"All"},{label:"Retailer",value:"Retailer"},{label:"SalesPeople",value:"SalesPeople"}],l=E((0,n.useState)(""),2),c=l[0],s=l[1],u=E((0,n.useState)(""),2),m=u[0],f=u[1],N=E((0,n.useState)(null),2),S=N[0],w=N[1],x=E((0,n.useState)("../static/images/add_image.png"),2),P=x[0],M=x[1],_=E((0,n.useState)(""),2),k=_[0],O=_[1],Z=E((0,n.useState)(""),2),j=Z[0],R=Z[1],C=E((0,n.useState)(""),2),D=C[0],B=C[1],A=E((0,n.useState)(""),2),q=A[0],T=A[1],V=E((0,n.useState)(""),2),I=V[0],F=V[1],L=E((0,n.useState)(""),2),z=L[0],U=L[1],J=E((0,n.useState)("Notification"),2),W=J[0],X=J[1],Y=E((0,n.useState)(""),2),$=Y[0],Q=Y[1],G=E((0,n.useState)(""),2),H=G[0],K=G[1],ee=E((0,n.useState)(0),2),te=ee[0],ae=ee[1],ne=E((0,n.useState)(null),2),oe=ne[0],le=ne[1],re=E((0,n.useState)(""),2),ie=re[0],ce=re[1],se=E((0,n.useState)(0),2),ue=se[0],me=se[1],fe=E((0,n.useState)(1),2),de=fe[0],pe=fe[1],ge=E((0,n.useState)(o[0]),2),he=ge[0],ve=ge[1];(0,n.useEffect)((function(){var e=Math.random();me(e),pe(e+10)}),[]);var ye="Notification"==W?"col-lg-12 col-md-12 col-sm-12 col-xs-12":"col-lg-6 col-md-12 col-sm-12 col-xs-12";return n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between ml-2 mr-2"},n.createElement("center",null,n.createElement("h3",null,"Add Notification")),n.createElement(h.Z,{prevPropsName:"Notifications",propsName:"Add Notification",changePage:a}))),n.createElement("div",{className:"card-content"},n.createElement(g.Z,{isError:oe,responseMessage:ie}),n.createElement("center",null,n.createElement("div",{className:"add_notification_img",onClick:function(){return te.click()}},n.createElement("img",{src:P,alt:""}),n.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var a=URL.createObjectURL(t);M(a),function(e){(0,p.Z)(e).then((function(e){w(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return ae(e)}}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Notification Name*"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add notification name",value:c,onChange:function(e){return s(e.target.value)},required:!0,autoFocus:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Display text*"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add display text",value:m,onChange:function(e){return f(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:ye},n.createElement("label",null,"Notification type*"),n.createElement("select",{className:"form-control",value:W,onChange:function(e){X(e.target.value),"Product"==e.target.value?K(""):("Offer"==e.target.value||K(""),Q(""))},required:!0},["Notification","Product","Offer"].map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),"Product"==W?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Product*"),n.createElement(v.Z,{isMulti:!1,value:$,setValue:function(e){return Q(e)},fetchData:r.RQ,closeMenuOnSelect:!0})):"Offer"==W?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Offer*"),n.createElement(v.Z,{isMulti:!1,value:H,setValue:function(e){return K(e)},fetchData:i.ZB,closeMenuOnSelect:!0})):n.createElement("div",null)),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show From*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show from date",value:j,onChange:function(e){return R(e.target.value)},required:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show To*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show to date",value:D,onChange:function(e){return B(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Receivers"),n.createElement(b.ZP,{value:he,onChange:function(e){return ve(e)},closeMenuOnSelect:!0,options:o})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Region"),n.createElement(v.Z,{isMulti:!1,value:q,setValue:function(e){T(e),F(""),me(Math.random()),U("")},fetchData:d.J4,closeMenuOnSelect:!0}))),q?n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:I?"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group":"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display City"),n.createElement(y.Z,{isMulti:!1,value:I,setValue:function(e){F(e),pe(Math.random()+10),U("")},fetchData:d.Y9,closeMenuOnSelect:!0,additional:{page:1,region:q?q.value.id:""},key:ue})),I?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Area"),n.createElement(y.Z,{isMulti:!1,value:z,setValue:function(e){return U(e)},fetchData:d.qL,closeMenuOnSelect:!0,additional:{page:1,city:I.value.id},key:de})):n.createElement("div",null)):n.createElement("div",null),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Details*"),n.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Please add notification detail",value:k,onChange:function(e){return O(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{onClick:function(){return function(){if(le(null),ce(""),c&&m&&k&&j&&D&&W)if("Product"!=W||$)if("Offer"!=W||H){var e=new FormData;e.append("name",c),e.append("display_text",m),e.append("detail",k),e.append("show_from",j),e.append("show_to",D),e.append("product_id",$?$.value.id:""),e.append("offer_id",H?H.value.id:""),e.append("region_id",q?q.value.id:""),e.append("city_id",I?I.value.id:""),e.append("area_id",z?z.value.id:""),e.append("status",W),e.append("select_type",he.value),S&&e.append("photo",S),t(e)}else le(!0),ce("Please select banner offer");else le(!0),ce("Please select banner product");else W?c?m?k?j?D?(le(!0),ce("Please input all relevant fields")):(le(!0),ce("Please input show to date")):(le(!0),ce("Please input show from date")):(le(!0),ce("Please input notification details")):(le(!0),ce("Please input display text")):(le(!0),ce("Please input notification name")):(le(!0),ce("Please select notification type"))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Add Notificaiton"))))))}var w=a(69688);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function M(e){var t=e.updateMobileNotification,a=e.changePage,o=e.notification,l=[{label:"All",value:"All"},{label:"Retailer",value:"Retailer"},{label:"SalesPeople",value:"SalesPeople"}],c=x((0,n.useState)(""),2),s=c[0],u=c[1],m=x((0,n.useState)(""),2),f=m[0],E=m[1],N=x((0,n.useState)(null),2),S=N[0],P=N[1],M=x((0,n.useState)("../static/images/add_image.png"),2),_=M[0],k=M[1],O=x((0,n.useState)(""),2),Z=O[0],j=O[1],R=x((0,n.useState)(""),2),C=R[0],D=R[1],B=x((0,n.useState)(""),2),A=B[0],q=B[1],T=x((0,n.useState)(""),2),V=T[0],I=T[1],F=x((0,n.useState)(""),2),L=F[0],z=F[1],U=x((0,n.useState)(""),2),J=U[0],W=U[1],X=x((0,n.useState)("Notification"),2),Y=X[0],$=X[1],Q=x((0,n.useState)(""),2),G=Q[0],H=Q[1],K=x((0,n.useState)(""),2),ee=K[0],te=K[1],ae=x((0,n.useState)(0),2),ne=ae[0],oe=ae[1],le=x((0,n.useState)(null),2),re=le[0],ie=le[1],ce=x((0,n.useState)(""),2),se=ce[0],ue=ce[1],me=x((0,n.useState)(0),2),fe=me[0],de=me[1],pe=x((0,n.useState)(1),2),ge=pe[0],he=pe[1],ve=x((0,n.useState)(l[0]),2),ye=ve[0],be=ve[1];(0,n.useEffect)((function(){if(o){var e=o.product?{value:o.product,label:o.product.name}:"",t=o.offer?{value:o.offer,label:o.offer.name}:"",a=o.region?{value:o.region,label:o.region.name}:"",n=o.city?{value:o.city,label:o.city.name}:"",r=o.area?{value:o.area,label:o.area.name}:"",i=l.filter((function(e){return e.value==o.send_to}));i[0]&&be(i[0]),u(o.name),E(o.display_text),j(o.detail),D((0,w.Z)(o.show_from)),q((0,w.Z)(o.show_to)),k(o.pic?o.pic:"../static/images/add_image.png"),$(o.status),H(e),te(t),I(a),z(n),W(r)}var c=Math.random();de(c),he(c+10)}),[o]);var Ee="Notification"==Y?"col-lg-12 col-md-12 col-sm-12 col-xs-12":"col-lg-6 col-md-12 col-sm-12 col-xs-12";return n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between ml-2 mr-2"},n.createElement("center",null,n.createElement("h3",null,"Edit Notification")),n.createElement(h.Z,{prevPropsName:"Notifications",propsName:"Edit Notification",changePage:a}))),n.createElement("div",{className:"card-content"},n.createElement(g.Z,{isError:re,responseMessage:se}),n.createElement("center",null,n.createElement("div",{className:"add_notification_img",onClick:function(){return ne.click()}},n.createElement("img",{src:_,alt:""}),n.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var a=URL.createObjectURL(t);k(a),function(e){(0,p.Z)(e).then((function(e){P(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return oe(e)}}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Notification Name*"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add notification name",value:s,onChange:function(e){return u(e.target.value)},required:!0,autoFocus:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Display text*"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add display text",value:f,onChange:function(e){return E(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:Ee},n.createElement("label",null,"Notification type*"),n.createElement("select",{className:"form-control",value:Y,onChange:function(e){$(e.target.value),"Product"==e.target.value?te(""):("Offer"==e.target.value||te(""),H(""))},required:!0},["Notification","Product","Offer"].map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),"Product"==Y?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Product*"),n.createElement(v.Z,{isMulti:!1,value:G,setValue:function(e){return H(e)},fetchData:r.RQ,closeMenuOnSelect:!0})):"Offer"==Y?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Offer*"),n.createElement(v.Z,{isMulti:!1,value:ee,setValue:function(e){return te(e)},fetchData:i.ZB,closeMenuOnSelect:!0})):n.createElement("div",null)),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show From*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show from date",value:C,onChange:function(e){return D(e.target.value)},required:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show To*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show to date",value:A,onChange:function(e){return q(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Receivers"),n.createElement(b.ZP,{value:ye,onChange:function(e){return be(e)},closeMenuOnSelect:!0,options:l})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Region"),n.createElement(v.Z,{isMulti:!1,value:V,setValue:function(e){I(e),z(""),de(Math.random()),W("")},fetchData:d.J4,closeMenuOnSelect:!0}))),V?n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:L?"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group":"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display City"),n.createElement(y.Z,{isMulti:!1,value:L,setValue:function(e){z(e),he(Math.random()+10),W("")},fetchData:d.Y9,closeMenuOnSelect:!0,additional:{page:1,region:V.value.id},key:fe})),L?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Area"),n.createElement(y.Z,{isMulti:!1,value:J,setValue:function(e){return W(e)},fetchData:d.qL,closeMenuOnSelect:!0,additional:{page:1,city:L.value.id},key:ge})):n.createElement("div",null)):n.createElement("div",null),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Details*"),n.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Please add notification detail",value:Z,onChange:function(e){return j(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{onClick:function(){return function(){if(ie(null),ue(""),s&&f&&Z&&C&&A&&Y)if("Product"!=Y||G)if("Offer"!=Y||ee){var e=new FormData;e.append("name",s),e.append("display_text",f),e.append("detail",Z),e.append("show_from",C),e.append("show_to",A),e.append("product_id",G?G.value.id:""),e.append("offer_id",ee?ee.value.id:""),e.append("region_id",V?V.value.id:""),e.append("city_id",L?L.value.id:""),e.append("area_id",J?J.value.id:""),e.append("status",Y),e.append("id",o.id),e.append("select_type",ye.value),S&&e.append("photo",S),t(e)}else ie(!0),ue("Please select banner offer");else ie(!0),ue("Please select banner product");else Y?s?f?Z?C?A?(ie(!0),ue("Please input all relevant fields")):(ie(!0),ue("Please input show to date")):(ie(!0),ue("Please input show from date")):(ie(!0),ue("Please input notification details")):(ie(!0),ue("Please input display text")):(ie(!0),ue("Please input notification name")):(ie(!0),ue("Please select notification type"))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Save Notificaiton"))))))}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function Z(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}a(78461);var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,a,o,l,r=(o=i,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(o);if(l){var a=R(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return Z(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,viewNotification:null},t.closeSnackBar=t.closeSnackBar.bind(j(t)),t.setResponse=t.setResponse.bind(j(t)),t.changePage=t.changePage.bind(j(t)),t.vieweditNotification=t.vieweditNotification.bind(j(t)),t}return t=i,(a=[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.message;a!==e.error?this.setResponse(a):n!==e.message&&(201==n.status&&this.setState({currentPage:1}),this.setResponse(n))}},{key:"componentDidMount",value:function(){this.props.fetchMobileNotifications(1)}},{key:"changePage",value:function(e){this.setState({currentPage:e})}},{key:"vieweditNotification",value:function(e){this.setState({viewNotification:e,currentPage:3})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],a=e.responseMessage[t];a instanceof Array?this.setState({responseMessage:a[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:a,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.notificationsReducer,a=e.addMobileNotification,o=e.updateMobileNotification,l=e.deleteMobileNotification,r=e.auth,i=e.offersReducer,m=e.productsReducer,d=e.fetchProducts,p=e.fetchPriceOffers,g=t.isLoading,h=t.notifications,v=this.state,y=v.openSnackBar,b=v.isError,E=v.responseMessage,N=v.snackPosition,w=v.currentPage,x=v.viewNotification,P={isError:b,responseMessage:E,openSnackBar:y,snackPosition:N};if(!r.group.permission.can_manage_mobile)return(0,c.Z)(this.props.auth.group.permission);switch(w){case 1:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(f,{notifications:h,changePage:this.changePage,editNotification:this.vieweditNotification,deleteMobileNotification:l}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}));case 2:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(S,{changePage:this.changePage,addMobileNotification:a}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}));case 3:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(M,{changePage:this.changePage,updateMobileNotification:o,notification:x}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}));default:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(f,{notifications:h,changePage:this.changePage,updateMobileNotification:o,deleteMobileNotification:l,products:m.products,offers:i.offers,fetchProducts:d,fetchPriceOffers:p}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}))}}}])&&k(t.prototype,a),i}(n.Component);const D=(0,o.$j)((function(e){return{auth:e.authReducer,notificationsReducer:e.notificationsReducer,productsReducer:e.productsReducer,offersReducer:e.offersReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchMobileNotifications:l.t7,addMobileNotification:l.sq,updateMobileNotification:l.bB,deleteMobileNotification:l.fn,fetchProducts:r.t2,fetchPriceOffers:i.zM})(C)},51446:(e,t,a)=>{a.d(t,{JV:()=>f,ZB:()=>u,cw:()=>m,rh:()=>d,zM:()=>s});var n=a(9669),o=a.n(n),l=a(34464),r=a(44997),i=a(58343),c=a(66808),s=function(e,t,a,n){return function(r,s){r({type:c.MD});var u=(0,l.Z)(s),m="../retailer/api/priceOffer?page=".concat(e);t&&(m+="&product_id=".concat(t)),a&&(m+="&query=".concat(a)),n&&(m+="&rows=".concat(n)),o().get(m,u).then((function(t){r({type:c.tF,payload:{offers:t.data.price_offers,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};r((0,i.x)(t)),r({type:c.CX})}))}};function u(e,t,a){var n=a.page,l=localStorage.getItem("token"),r={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(r.headers.Authorization="Token ".concat(l));var i=e?"../retailer/api/priceOffer/?page=".concat(n,"&query=").concat(e):"../retailer/api/priceOffer/?page=".concat(n);return new Promise((function(e,t){o().get(i,r).then((function(t){var a=!1;t.data.last_page>n&&(a=!0);var o=t.data.price_offers.map((function(e){return{value:e,label:e.name}}));e({options:o,hasMore:a,additional:{page:n+1}})})).catch((function(e){t(e.response.data)}))}))}var m=function(e){return function(t,a){t({type:c.MD});var n=(0,r.Z)(a);o().post("../retailer/api/priceOffer/",e,n).then((function(e){t((0,i.i)(e.data,e.status)),t({type:c.g7,payload:e.data}),t({type:c.SV,payload:e.data.view_complete})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(a)),t({type:c.CX})}))}},f=function(e){return function(t,a){t({type:c.MD});var n=(0,r.Z)(a);o().put("../retailer/api/priceOffer/",e,n).then((function(e){t((0,i.i)(e.data,e.status)),t({type:c.tN,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(a)),t({type:c.CX})}))}},d=function(e){return function(t,a){t({type:c.MD});var n=(0,r.Z)(a);o().delete("../retailer/api/priceOffer?offer_id=".concat(e),n).then((function(a){t((0,i.i)(a.data,a.status)),t({type:c.Bg,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(a)),t({type:c.CX})}))}}},69688:(e,t,a)=>{function n(e){var t=new Date(e),a=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),n=t.getMonth()+1,o=n<10?"0".concat(n):n;return t.getFullYear()+"-"+o+"-"+a}a.d(t,{Z:()=>n})},74762:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(23645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,".notification_img {\n    height: 150px;\n    width: 150px;\n    border-radius: 20px;\n    overflow: hidden;\n}\n\n.notification_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.add_notification_img {\n    height: 150px;\n    width: 150px;\n    cursor: pointer;\n    margin-bottom: 5px;\n}\n\n.add_notification_img img {\n    height: 100%;\n    width: 100%;\n    object-fit: contain;\n}\n\n.notification-ui_dd-content {\n    margin-bottom: 30px;\n}\n\n.notification-list {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n    padding: 20px;\n    margin-bottom: 7px;\n    -webkit-box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);\n}\n\n.notification-list--unread {\n    border-left: 2px solid #29b6f6;\n}\n\n.notification-list .notification-list_content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n\n.notification-list .notification-list_content .notification-list_img img {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    margin-right: 20px;\n}\n\n.notification-list .notification-list_content .notification-list_detail p {\n    margin-bottom: 5px;\n    line-height: 1.2;\n}\n\n.notification-list .notification-list_feature-img img {\n    height: 48px;\n    width: 48px;\n    border-radius: 5px;\n    margin-left: 20px;\n}\n\n.notificationDetail_img {\n    height: 100px;\n    width: 100px;\n    overflow: hidden;\n}\n\n.notificationDetail_img img {\n    max-height: 100%;\n    max-width: 100%;\n    object-fit: contain;\n}",""]);const l=o},69921:(e,t)=>{if("function"==typeof Symbol&&Symbol.for){var a=Symbol.for;a("react.element"),a("react.portal"),a("react.fragment"),a("react.strict_mode"),a("react.profiler"),a("react.provider"),a("react.context"),a("react.forward_ref"),a("react.suspense"),a("react.suspense_list"),a("react.memo"),a("react.lazy"),a("react.block"),a("react.server.block"),a("react.fundamental"),a("react.debug_trace_mode"),a("react.legacy_hidden")}},59864:(e,t,a)=>{a(69921)},78461:(e,t,a)=>{var n=a(93379),o=a.n(n),l=a(74762);o()(l.Z,{insert:"head",singleton:!1}),l.Z.locals},15671:(e,t,a)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,{Z:()=>n})}}]);